"use strict";(self.webpackChunkdev_enigma=self.webpackChunkdev_enigma||[]).push([[29930],{4851:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>o,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var t=i(74848),s=i(28453);const r={},l="TTL Cache Implementation Guide",c={id:"Interview Prep 2026/Cache With TTL",title:"TTL Cache Implementation Guide",description:"Table of Contents",source:"@site/docs/08-Interview Prep 2026/Cache With TTL.mdx",sourceDirName:"08-Interview Prep 2026",slug:"/Interview Prep 2026/Cache With TTL",permalink:"/docs/Interview Prep 2026/Cache With TTL",draft:!1,unlisted:!1,editUrl:"https://github.com/carefree-ladka/docs/08-Interview Prep 2026/Cache With TTL.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Browser Hinting Techniques - Complete Guide",permalink:"/docs/Interview Prep 2026/Browser Hinting Techniques - Complete Guide"},next:{title:"Complete Authentication & Authorization Guide",permalink:"/docs/Interview Prep 2026/Complete Authentication & Authorization Guide"}},a={},d=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"TTL",id:"ttl",level:3},{value:"Expiration Strategies",id:"expiration-strategies",level:3},{value:"Basic TTL Cache (Lazy Eviction)",id:"basic-ttl-cache-lazy-eviction",level:2},{value:"Requirements",id:"requirements",level:3},{value:"Simple Implementation (Lazy Eviction)",id:"simple-implementation-lazy-eviction",level:3},{value:"TTL Cache with Auto Cleanup (Hybrid)",id:"ttl-cache-with-auto-cleanup-hybrid",level:2},{value:"Sliding TTL Cache",id:"sliding-ttl-cache",level:2},{value:"TTL + LRU Cache",id:"ttl--lru-cache",level:2},{value:"Key Idea",id:"key-idea",level:3},{value:"Data Structures",id:"data-structures",level:3},{value:"Simplified LRU + TTL (Map-only version)",id:"simplified-lru--ttl-map-only-version",level:3},{value:"Real-World Usage Patterns",id:"real-world-usage-patterns",level:2},{value:"Frontend",id:"frontend",level:3},{value:"Backend / Distributed Cache",id:"backend--distributed-cache",level:3},{value:"Common Interview Follow-ups",id:"common-interview-follow-ups",level:2},{value:"Time &amp; Space Complexity",id:"time--space-complexity",level:2},{value:"Summary",id:"summary",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"ttl-cache-implementation-guide",children:"TTL Cache Implementation Guide"})}),"\n",(0,t.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#introduction",children:"Introduction"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#core-concepts",children:"Core Concepts"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#basic-ttl-cache-lazy-eviction",children:"Basic TTL Cache (Lazy Eviction)"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ttl-cache-with-auto-cleanup-hybrid",children:"TTL Cache with Auto Cleanup (Hybrid)"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#sliding-ttl-cache",children:"Sliding TTL Cache"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ttl--lru-cache",children:"TTL + LRU Cache"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#real-world-usage-patterns",children:"Real-World Usage Patterns"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#common-interview-follow-ups",children:"Common Interview Follow-ups"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#time--space-complexity",children:"Time & Space Complexity"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#summary",children:"Summary"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(n.p,{children:"A TTL-based cache (Time To Live cache) stores data with an expiry time.\nOnce the TTL expires, the entry is considered invalid and should not be returned."}),"\n",(0,t.jsx)(n.p,{children:"This is very common in:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Browser caching"}),"\n",(0,t.jsx)(n.li,{children:"API response caching"}),"\n",(0,t.jsx)(n.li,{children:"Session storage"}),"\n",(0,t.jsx)(n.li,{children:"Distributed caches (Redis, Memcached)"}),"\n",(0,t.jsx)(n.li,{children:"Frontend memoization with staleness control"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,t.jsx)(n.h3,{id:"ttl",children:"TTL"}),"\n",(0,t.jsx)(n.p,{children:"Duration an entry is valid (expiresAt = now + ttl)"}),"\n",(0,t.jsx)(n.p,{children:"Can be:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Absolute TTL"})," \u2192 expires at a fixed time"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sliding TTL"})," \u2192 refreshes on access"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"expiration-strategies",children:"Expiration Strategies"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lazy eviction"})," \u2192 remove on get"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Eager eviction"})," \u2192 background cleanup"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hybrid"})," \u2192 lazy + periodic cleanup (most common)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"basic-ttl-cache-lazy-eviction",children:"Basic TTL Cache (Lazy Eviction)"}),"\n",(0,t.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"set(key, value, ttl)"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"get(key)"})}),"\n",(0,t.jsx)(n.li,{children:"Expired entries should not be returned"}),"\n",(0,t.jsx)(n.li,{children:"O(1) operations"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"simple-implementation-lazy-eviction",children:"Simple Implementation (Lazy Eviction)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"class TTLCache {\n  constructor() {\n    this.store = new Map();\n  }\n\n  set(key, value, ttl) {\n    const expiresAt = Date.now() + ttl;\n    this.store.set(key, { value, expiresAt });\n  }\n\n  get(key) {\n    const entry = this.store.get(key);\n    if (!entry) return null;\n\n    if (Date.now() > entry.expiresAt) {\n      this.store.delete(key);\n      return null;\n    }\n\n    return entry.value;\n  }\n\n  has(key) {\n    return this.get(key) !== null;\n  }\n\n  delete(key) {\n    this.store.delete(key);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Simple"}),"\n",(0,t.jsx)(n.li,{children:"No timers"}),"\n",(0,t.jsx)(n.li,{children:"O(1)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Expired entries remain until accessed"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"ttl-cache-with-auto-cleanup-hybrid",children:"TTL Cache with Auto Cleanup (Hybrid)"}),"\n",(0,t.jsx)(n.p,{children:"Adds periodic eviction to prevent memory leaks."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"class TTLCache {\n  constructor(cleanupInterval = 1000) {\n    this.store = new Map();\n    this.timer = setInterval(() => this.cleanup(), cleanupInterval);\n  }\n\n  set(key, value, ttl) {\n    this.store.set(key, {\n      value,\n      expiresAt: Date.now() + ttl,\n    });\n  }\n\n  get(key) {\n    const entry = this.store.get(key);\n    if (!entry) return null;\n\n    if (Date.now() > entry.expiresAt) {\n      this.store.delete(key);\n      return null;\n    }\n    return entry.value;\n  }\n\n  cleanup() {\n    const now = Date.now();\n    for (const [key, entry] of this.store) {\n      if (now > entry.expiresAt) {\n        this.store.delete(key);\n      }\n    }\n  }\n\n  destroy() {\n    clearInterval(this.timer);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"sliding-ttl-cache",children:"Sliding TTL Cache"}),"\n",(0,t.jsx)(n.p,{children:"Used for sessions, auth tokens, hot data."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"class SlidingTTLCache {\n  constructor(ttl) {\n    this.ttl = ttl;\n    this.store = new Map();\n  }\n\n  set(key, value) {\n    this.store.set(key, {\n      value,\n      expiresAt: Date.now() + this.ttl,\n    });\n  }\n\n  get(key) {\n    const entry = this.store.get(key);\n    if (!entry) return null;\n\n    if (Date.now() > entry.expiresAt) {\n      this.store.delete(key);\n      return null;\n    }\n\n    // refresh TTL\n    entry.expiresAt = Date.now() + this.ttl;\n    return entry.value;\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"ttl--lru-cache",children:"TTL + LRU Cache"}),"\n",(0,t.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,t.jsx)(n.strong,{children:'"Design an LRU cache with TTL"'})," - Very Common Interview Question"]}),"\n",(0,t.jsx)(n.h3,{id:"key-idea",children:"Key Idea"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TTL"})," \u2192 validity"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LRU"})," \u2192 eviction when capacity exceeded"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"data-structures",children:"Data Structures"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Map"})," \u2192 O(1) lookup"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Doubly Linked List"})," \u2192 O(1) recency updates"]}),"\n",(0,t.jsx)(n.li,{children:"TTL is checked on get before returning"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"simplified-lru--ttl-map-only-version",children:"Simplified LRU + TTL (Map-only version)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"class LRUCacheWithTTL {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.map = new Map();\n  }\n\n  set(key, value, ttl) {\n    if (this.map.has(key)) {\n      this.map.delete(key);\n    }\n\n    this.map.set(key, {\n      value,\n      expiresAt: Date.now() + ttl,\n    });\n\n    if (this.map.size > this.capacity) {\n      const lruKey = this.map.keys().next().value;\n      this.map.delete(lruKey);\n    }\n  }\n\n  get(key) {\n    const entry = this.map.get(key);\n    if (!entry) return null;\n\n    if (Date.now() > entry.expiresAt) {\n      this.map.delete(key);\n      return null;\n    }\n\n    // mark as recently used\n    this.map.delete(key);\n    this.map.set(key, entry);\n\n    return entry.value;\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"real-world-usage-patterns",children:"Real-World Usage Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"frontend",children:"Frontend"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cache API responses"}),"\n",(0,t.jsx)(n.li,{children:"Avoid refetch for X seconds"}),"\n",(0,t.jsx)(n.li,{children:"Stale-while-revalidate pattern"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"if (cache.get(url)) return cache.get(url);\n\nconst data = await fetch(url).then(r => r.json());\ncache.set(url, data, 5000);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"backend--distributed-cache",children:"Backend / Distributed Cache"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Redis ",(0,t.jsx)(n.code,{children:"SET key value EX 60"})]}),"\n",(0,t.jsx)(n.li,{children:"Memcached TTL"}),"\n",(0,t.jsx)(n.li,{children:"CDN edge caching"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"common-interview-follow-ups",children:"Common Interview Follow-ups"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u2753 Why TTL instead of manual invalidation?"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Avoid stale data"}),"\n",(0,t.jsx)(n.li,{children:"Works well when updates are unpredictable"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u2753 Lazy vs Eager eviction?"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Strategy"}),(0,t.jsx)(n.th,{children:"When"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Lazy"}),(0,t.jsx)(n.td,{children:"Low traffic"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Eager"}),(0,t.jsx)(n.td,{children:"Memory-sensitive"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Hybrid"}),(0,t.jsx)(n.td,{children:"Production systems"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u2753 Clock skew issue?"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use server time"}),"\n",(0,t.jsx)(n.li,{children:"Distributed systems often use relative TTL"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"time--space-complexity",children:"Time & Space Complexity"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Operation"}),(0,t.jsx)(n.th,{children:"Complexity"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"get"}),(0,t.jsx)(n.td,{children:"O(1)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"set"}),(0,t.jsx)(n.td,{children:"O(1)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"cleanup"}),(0,t.jsx)(n.td,{children:"O(n) (periodic)"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TTL cache"})," = cache with expiry"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lazy eviction"})," is simplest"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sliding TTL"})," is common for sessions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TTL + LRU"})," is interview gold"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Map + timestamps"})," = 90% of real implementations"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var t=i(96540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);