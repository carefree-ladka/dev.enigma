"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8253],{508:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});var s=r(4848),i=r(8453);const l={},c="Resource Loading & Performance Optimization",t={id:"WebDev/HTML5/ResourceLoading",title:"Resource Loading & Performance Optimization",description:"Resource Hints",source:"@site/docs/WebDev/HTML5/ResourceLoading.mdx",sourceDirName:"WebDev/HTML5",slug:"/WebDev/HTML5/ResourceLoading",permalink:"/js.enigma/docs/WebDev/HTML5/ResourceLoading",draft:!1,unlisted:!1,editUrl:"https://github.com/carefree-ladka/docs/WebDev/HTML5/ResourceLoading.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Rendering / Render Tree",permalink:"/js.enigma/docs/WebDev/HTML5/RenderingTree"},next:{title:"Shadow DOM",permalink:"/js.enigma/docs/WebDev/HTML5/ShadowDOM"}},o={},d=[{value:"Resource Hints",id:"resource-hints",level:2},{value:"dns-prefetch",id:"dns-prefetch",level:3},{value:"preconnect",id:"preconnect",level:3},{value:"prefetch",id:"prefetch",level:3},{value:"preload",id:"preload",level:3},{value:"Script Loading",id:"script-loading",level:2},{value:"async",id:"async",level:3},{value:"defer",id:"defer",level:3},{value:"module",id:"module",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Resource Hint Combinations",id:"resource-hint-combinations",level:3},{value:"Priority Patterns",id:"priority-patterns",level:3},{value:"Loading Strategies",id:"loading-strategies",level:3},{value:"Critical CSS",id:"critical-css",level:4},{value:"Progressive Font Loading",id:"progressive-font-loading",level:4},{value:"Script Loading",id:"script-loading-1",level:4},{value:"Performance Tips",id:"performance-tips",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"resource-loading--performance-optimization",children:"Resource Loading & Performance Optimization"})}),"\n",(0,s.jsx)(n.h2,{id:"resource-hints",children:"Resource Hints"}),"\n",(0,s.jsx)(n.h3,{id:"dns-prefetch",children:"dns-prefetch"}),"\n",(0,s.jsx)(n.p,{children:"Performs early DNS resolution for domain names."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<link rel="dns-prefetch" href="https://api.example.com">\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best for:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Third-party domains you'll connect to soon"}),"\n",(0,s.jsx)(n.li,{children:"Analytics, social media widgets, CDNs"}),"\n",(0,s.jsx)(n.li,{children:"When you know you'll need resources from a domain later"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Useful for HTTP/1.1"}),"\n",(0,s.jsx)(n.li,{children:"Most beneficial for cross-origin domains"}),"\n",(0,s.jsx)(n.li,{children:"Very low resource cost"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"preconnect",children:"preconnect"}),"\n",(0,s.jsx)(n.p,{children:"Establishes early connections, including DNS lookup, TCP handshake, and optional TLS negotiation."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<link rel="preconnect" href="https://api.example.com" crossorigin>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best for:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Critical third-party origins where you'll request resources soon"}),"\n",(0,s.jsx)(n.li,{children:"When you know the exact domain but not the exact files"}),"\n",(0,s.jsx)(n.li,{children:"Font services, API endpoints"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"More resource-intensive than dns-prefetch"}),"\n",(0,s.jsx)(n.li,{children:"Connections kept open for 10 seconds"}),"\n",(0,s.jsx)(n.li,{children:"Use sparingly (no more than 3-4 domains)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"prefetch",children:"prefetch"}),"\n",(0,s.jsx)(n.p,{children:"Fetches resources that will be needed for subsequent pages/navigation."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<link rel="prefetch" href="/images/large-hero.jpg">\r\n<link rel="prefetch" href="/js/next-page.js">\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best for:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Resources needed on the next page"}),"\n",(0,s.jsx)(n.li,{children:"Assets for the next likely user action"}),"\n",(0,s.jsx)(n.li,{children:"Low-priority resources for future use"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Browser idle time only"}),"\n",(0,s.jsx)(n.li,{children:"Useful for Single Page Applications (SPA)"}),"\n",(0,s.jsx)(n.li,{children:"Doesn't execute JavaScript, only downloads"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"preload",children:"preload"}),"\n",(0,s.jsx)(n.p,{children:"Declares high-priority resources needed for current page."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<link rel="preload" href="/fonts/main.woff2" as="font" type="font/woff2" crossorigin>\r\n<link rel="preload" href="/css/critical.css" as="style">\r\n<link rel="preload" href="/js/important.js" as="script">\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best for:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Critical resources needed ASAP"}),"\n",(0,s.jsx)(n.li,{children:"Late-discovered resources in CSS/JS"}),"\n",(0,s.jsx)(n.li,{children:"Custom fonts, hero images"}),"\n",(0,s.jsx)(n.li,{children:"Critical CSS/JS"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Must use ",(0,s.jsx)(n.code,{children:"as"})," attribute"]}),"\n",(0,s.jsx)(n.li,{children:"Mandatory fetch, high priority"}),"\n",(0,s.jsx)(n.li,{children:"Browser MUST download resource"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"script-loading",children:"Script Loading"}),"\n",(0,s.jsx)(n.h3,{id:"async",children:"async"}),"\n",(0,s.jsx)(n.p,{children:"Downloads script asynchronously and executes when ready."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<script async src="/js/analytics.js"><\/script>\r\n<script async src="/js/widget.js"><\/script>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best for:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Independent scripts"}),"\n",(0,s.jsx)(n.li,{children:"Analytics"}),"\n",(0,s.jsx)(n.li,{children:"Tracking scripts"}),"\n",(0,s.jsx)(n.li,{children:"Social media widgets"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Downloads during HTML parsing"}),"\n",(0,s.jsx)(n.li,{children:"Executes immediately after download"}),"\n",(0,s.jsx)(n.li,{children:"Order not guaranteed"}),"\n",(0,s.jsx)(n.li,{children:"DOMContentLoaded not blocked"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"defer",children:"defer"}),"\n",(0,s.jsx)(n.p,{children:"Downloads script asynchronously but defers execution."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<script defer src="/js/main.js"><\/script>\r\n<script defer src="/js/dependencies.js"><\/script>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best for:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Scripts that need DOM"}),"\n",(0,s.jsx)(n.li,{children:"Scripts with dependencies"}),"\n",(0,s.jsx)(n.li,{children:"Most application scripts"}),"\n",(0,s.jsx)(n.li,{children:"Scripts that need to run in order"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Downloads during HTML parsing"}),"\n",(0,s.jsx)(n.li,{children:"Executes after HTML parsing"}),"\n",(0,s.jsx)(n.li,{children:"Maintains script order"}),"\n",(0,s.jsx)(n.li,{children:"Executes before DOMContentLoaded"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"module",children:"module"}),"\n",(0,s.jsx)(n.p,{children:"Loads JavaScript as an ES module."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<script type="module" src="/js/app.mjs"><\/script>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best for:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Modern JavaScript applications"}),"\n",(0,s.jsx)(n.li,{children:"Code splitting"}),"\n",(0,s.jsx)(n.li,{children:"ES6+ features"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Deferred by default"}),"\n",(0,s.jsx)(n.li,{children:"Always executed in strict mode"}),"\n",(0,s.jsx)(n.li,{children:"Cross-origin requires CORS"}),"\n",(0,s.jsx)(n.li,{children:"Can use import/export"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"resource-hint-combinations",children:"Resource Hint Combinations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'\x3c!-- For critical third-party resources --\x3e\r\n<link rel="preconnect" href="https://api.example.com" crossorigin>\r\n\r\n\x3c!-- For future third-party resources --\x3e\r\n<link rel="dns-prefetch" href="https://api.example.com">\r\n<link rel="prefetch" href="https://api.example.com/data.json">\r\n\r\n\x3c!-- For critical fonts --\x3e\r\n<link rel="preload" href="/fonts/main.woff2" as="font" type="font/woff2" crossorigin>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"priority-patterns",children:"Priority Patterns"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Critical Resources"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'\x3c!-- Highest priority - needed immediately --\x3e\r\n<link rel="preload" href="/css/critical.css" as="style">\r\n<link rel="stylesheet" href="/css/critical.css">\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Important but Not Critical"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'\x3c!-- Load soon but not blocking --\x3e\r\n<script defer src="/js/main.js"><\/script>\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Non-Critical Resources"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'\x3c!-- Load when convenient --\x3e\r\n<link rel="prefetch" href="/images/optional.jpg">\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loading-strategies",children:"Loading Strategies"}),"\n",(0,s.jsx)(n.h4,{id:"critical-css",children:"Critical CSS"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<link rel="preload" href="/css/critical.css" as="style">\r\n<link rel="stylesheet" href="/css/critical.css">\r\n<link rel="prefetch" href="/css/non-critical.css">\n'})}),"\n",(0,s.jsx)(n.h4,{id:"progressive-font-loading",children:"Progressive Font Loading"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<link rel="preload" href="/fonts/main.woff2" as="font" type="font/woff2" crossorigin>\r\n<link rel="prefetch" href="/fonts/bold.woff2" as="font" type="font/woff2" crossorigin>\n'})}),"\n",(0,s.jsx)(n.h4,{id:"script-loading-1",children:"Script Loading"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'\x3c!-- Critical functionality --\x3e\r\n<script defer src="/js/critical.js"><\/script>\r\n\r\n\x3c!-- Enhancement scripts --\x3e\r\n<script async src="/js/enhancement.js"><\/script>\r\n\r\n\x3c!-- Next page scripts --\x3e\r\n<link rel="prefetch" href="/js/next-page.js">\n'})}),"\n",(0,s.jsx)(n.h2,{id:"performance-tips",children:"Performance Tips"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Prioritize Critical Resources"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"preload"})," for above-the-fold content"]}),"\n",(0,s.jsx)(n.li,{children:"Defer non-critical scripts"}),"\n",(0,s.jsx)(n.li,{children:"Prefetch likely next actions"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Optimize Connection Management"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Limit preconnect to 3-4 domains"}),"\n",(0,s.jsx)(n.li,{children:"Combine with dns-prefetch for wider support"}),"\n",(0,s.jsx)(n.li,{children:"Close unused preconnections"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Balance Resource Hints"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Don't preload too much"}),"\n",(0,s.jsx)(n.li,{children:"Prefetch only highly probable resources"}),"\n",(0,s.jsx)(n.li,{children:"Monitor impact on bandwidth"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Script Loading Strategies"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"defer"})," for most scripts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"async"})," for independent scripts"]}),"\n",(0,s.jsx)(n.li,{children:"Modules for modern applications"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>t});var s=r(6540);const i={},l=s.createContext(i);function c(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);