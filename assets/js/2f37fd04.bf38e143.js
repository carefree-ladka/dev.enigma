"use strict";(self.webpackChunkdev_enigma=self.webpackChunkdev_enigma||[]).push([[1943],{28453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>c});var i=t(96540);const a={},s=i.createContext(a);function r(n){const e=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),i.createElement(s.Provider,{value:e},n.children)}},43517:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>c,toc:()=>o});var i=t(74848),a=t(28453);const s={},r="Vending Machine System",c={id:"Low Level design/Vending Machine System",title:"Vending Machine System",description:"Table of Contents",source:"@site/docs/Low Level design/Vending Machine System.mdx",sourceDirName:"Low Level design",slug:"/Low Level design/Vending Machine System",permalink:"/docs/Low Level design/Vending Machine System",draft:!1,unlisted:!1,editUrl:"https://github.com/carefree-ladka/docs/Low Level design/Vending Machine System.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Parking Lot System",permalink:"/docs/Low Level design/Parking Lot System"},next:{title:"High Level Designs",permalink:"/docs/category/high-level-designs"}},l={},o=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Requirements Clarification",id:"requirements-clarification",level:2},{value:"Functional Requirements",id:"functional-requirements",level:3},{value:"Non-Functional Requirements",id:"non-functional-requirements",level:3},{value:"Scope Boundaries",id:"scope-boundaries",level:3},{value:"Included",id:"included",level:4},{value:"Excluded",id:"excluded",level:4},{value:"Core Entities &amp; Relationships",id:"core-entities--relationships",level:2},{value:"Main Entities",id:"main-entities",level:3},{value:"Key Relationships",id:"key-relationships",level:3},{value:"Class Design",id:"class-design",level:2},{value:"Core Classes with Responsibilities",id:"core-classes-with-responsibilities",level:3},{value:"UML Class Diagram",id:"uml-class-diagram",level:2},{value:"Implementation",id:"implementation",level:2},{value:"Enums",id:"enums",level:3},{value:"Coin.java",id:"coinjava",level:4},{value:"Note.java",id:"notejava",level:4},{value:"TransactionStatus.java",id:"transactionstatusjava",level:4},{value:"ProductType.java",id:"producttypejava",level:4},{value:"Product Classes",id:"product-classes",level:3},{value:"Product.java",id:"productjava",level:4},{value:"ProductShelf.java",id:"productshelfjava",level:4},{value:"Inventory Management",id:"inventory-management",level:3},{value:"Inventory.java",id:"inventoryjava",level:4},{value:"Payment Processing",id:"payment-processing",level:3},{value:"Payment.java",id:"paymentjava",level:4},{value:"Transaction Management",id:"transaction-management",level:3},{value:"Transaction.java",id:"transactionjava",level:4},{value:"State Pattern Implementation",id:"state-pattern-implementation",level:3},{value:"VendingMachineState.java (Abstract)",id:"vendingmachinestatejava-abstract",level:4},{value:"IdleState.java",id:"idlestatejava",level:4},{value:"SelectionState.java",id:"selectionstatejava",level:4},{value:"PaymentState.java",id:"paymentstatejava",level:4},{value:"DispensingState.java",id:"dispensingstatejava",level:4},{value:"Main Vending Machine",id:"main-vending-machine",level:3},{value:"VendingMachine.java",id:"vendingmachinejava",level:4},{value:"Demo Class",id:"demo-class",level:3},{value:"VendingMachineDemo.java",id:"vendingmachinedemojava",level:4},{value:"State Design Pattern Deep Dive",id:"state-design-pattern-deep-dive",level:2},{value:"Why State Pattern?",id:"why-state-pattern",level:3},{value:"State Transition Diagram",id:"state-transition-diagram",level:3},{value:"Benefits in Our Implementation",id:"benefits-in-our-implementation",level:3},{value:"Design Patterns &amp; Best Practices",id:"design-patterns--best-practices",level:2},{value:"Design Patterns Used",id:"design-patterns-used",level:3},{value:"1. State Pattern",id:"1-state-pattern",level:4},{value:"2. Singleton Pattern (Optional Enhancement)",id:"2-singleton-pattern-optional-enhancement",level:4},{value:"3. Strategy Pattern (Payment Processing)",id:"3-strategy-pattern-payment-processing",level:4},{value:"4. Factory Pattern (Product Creation)",id:"4-factory-pattern-product-creation",level:4},{value:"SOLID Principles Applied",id:"solid-principles-applied",level:3},{value:"Single Responsibility Principle (SRP)",id:"single-responsibility-principle-srp",level:4},{value:"Open/Closed Principle (OCP)",id:"openclosed-principle-ocp",level:4},{value:"Liskov Substitution Principle (LSP)",id:"liskov-substitution-principle-lsp",level:4},{value:"Interface Segregation Principle (ISP)",id:"interface-segregation-principle-isp",level:4},{value:"Dependency Inversion Principle (DIP)",id:"dependency-inversion-principle-dip",level:4},{value:"Best Practices Implemented",id:"best-practices-implemented",level:3},{value:"1. Encapsulation",id:"1-encapsulation",level:4},{value:"2. Thread Safety",id:"2-thread-safety",level:4},{value:"3. Immutability (Enums)",id:"3-immutability-enums",level:4},{value:"4. Defensive Programming",id:"4-defensive-programming",level:4},{value:"5. Clear Naming Conventions",id:"5-clear-naming-conventions",level:4},{value:"Edge Cases &amp; Extensions",id:"edge-cases--extensions",level:2},{value:"Edge Cases Handled",id:"edge-cases-handled",level:3},{value:"1. Out of Stock",id:"1-out-of-stock",level:4},{value:"2. Insufficient Payment",id:"2-insufficient-payment",level:4},{value:"3. Transaction Cancellation",id:"3-transaction-cancellation",level:4},{value:"4. Dispensing Failure",id:"4-dispensing-failure",level:4},{value:"5. Concurrent Access",id:"5-concurrent-access",level:4},{value:"Potential Extensions",id:"potential-extensions",level:3},{value:"1. Multi-Currency Support",id:"1-multi-currency-support",level:4},{value:"2. Digital Payment Integration",id:"2-digital-payment-integration",level:4},{value:"3. Temperature Control (for perishables)",id:"3-temperature-control-for-perishables",level:4},{value:"4. Remote Monitoring",id:"4-remote-monitoring",level:4},{value:"5. Loyalty Program",id:"5-loyalty-program",level:4},{value:"6. Expiry Date Tracking",id:"6-expiry-date-tracking",level:4},{value:"7. Dynamic Pricing",id:"7-dynamic-pricing",level:4},{value:"8. Maintenance Mode",id:"8-maintenance-mode",level:4},{value:"9. Receipt Generation",id:"9-receipt-generation",level:4},{value:"10. Analytics &amp; Reporting",id:"10-analytics--reporting",level:4},{value:"Error Handling Improvements",id:"error-handling-improvements",level:3},{value:"1. Custom Exceptions",id:"1-custom-exceptions",level:4},{value:"2. Logging Framework Integration",id:"2-logging-framework-integration",level:4},{value:"Summary",id:"summary",level:2},{value:"Key Design Decisions",id:"key-design-decisions",level:3},{value:"System Characteristics",id:"system-characteristics",level:3},{value:"Strengths",id:"strengths",level:4},{value:"Trade-offs",id:"trade-offs",level:4},{value:"Testing Strategy",id:"testing-strategy",level:3},{value:"Unit Tests",id:"unit-tests",level:4},{value:"Integration Tests",id:"integration-tests",level:4},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"Deployment Considerations",id:"deployment-considerations",level:3},{value:"Conclusion",id:"conclusion",level:3}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"vending-machine-system",children:"Vending Machine System"})}),"\n",(0,i.jsx)(e.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#requirements-clarification",children:"Requirements Clarification"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#core-entities--relationships",children:"Core Entities & Relationships"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#class-design",children:"Class Design"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#uml-class-diagram",children:"UML Class Diagram"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#implementation",children:"Implementation"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#state-design-pattern-deep-dive",children:"State Design Pattern Deep Dive"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#design-patterns--best-practices",children:"Design Patterns & Best Practices"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#edge-cases--extensions",children:"Edge Cases & Extensions"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#summary",children:"Summary"})}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"requirements-clarification",children:"Requirements Clarification"}),"\n",(0,i.jsx)(e.h3,{id:"functional-requirements",children:"Functional Requirements"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Product Selection"}),": Users can browse and select products"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Inventory Management"}),": Track product availability and stock levels"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Payment Processing"}),": Accept multiple payment methods (Cash, Card, Digital Wallet)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Change Return"}),": Calculate and dispense correct change"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Product Dispensing"}),": Dispense selected product after successful payment"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Refund"}),": Return money if product unavailable or transaction cancelled"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Multiple Products"}),": Support various product types with different prices"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"State Management"}),": Handle different machine states (Idle, Selection, Payment, Dispensing)"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"non-functional-requirements",children:"Non-Functional Requirements"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Reliability"}),": Handle edge cases like insufficient funds, out of stock"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Concurrency"}),": Thread-safe operations (one transaction at a time)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Maintainability"}),": Easy to add new products and payment methods"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Usability"}),": Clear user feedback at each step"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Security"}),": Secure payment processing"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"scope-boundaries",children:"Scope Boundaries"}),"\n",(0,i.jsx)(e.h4,{id:"included",children:"Included"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Product catalog management"}),"\n",(0,i.jsx)(e.li,{children:"Inventory tracking"}),"\n",(0,i.jsx)(e.li,{children:"Payment processing simulation"}),"\n",(0,i.jsx)(e.li,{children:"Change calculation and dispensing"}),"\n",(0,i.jsx)(e.li,{children:"State machine implementation"}),"\n",(0,i.jsx)(e.li,{children:"Transaction logging"}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"excluded",children:"Excluded"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Real hardware integration"}),"\n",(0,i.jsx)(e.li,{children:"Network connectivity"}),"\n",(0,i.jsx)(e.li,{children:"Remote monitoring dashboard"}),"\n",(0,i.jsx)(e.li,{children:"Temperature control for perishables"}),"\n",(0,i.jsx)(e.li,{children:"Barcode scanning"}),"\n",(0,i.jsx)(e.li,{children:"Touchscreen UI implementation"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"core-entities--relationships",children:"Core Entities & Relationships"}),"\n",(0,i.jsx)(e.h3,{id:"main-entities",children:"Main Entities"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"VendingMachine"}),": Main controller managing the entire system"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Product"}),": Represents items available in the machine"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Inventory"}),": Manages stock levels for all products"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"State"}),": Represents different states of the vending machine"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Payment"}),": Handles payment processing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Coin/Note"}),": Represents currency denominations"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Transaction"}),": Records transaction details"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"key-relationships",children:"Key Relationships"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["VendingMachine ",(0,i.jsx)(e.strong,{children:"HAS-ONE"})," Inventory (Composition)"]}),"\n",(0,i.jsxs)(e.li,{children:["VendingMachine ",(0,i.jsx)(e.strong,{children:"HAS-ONE"})," State (Association)"]}),"\n",(0,i.jsxs)(e.li,{children:["Inventory ",(0,i.jsx)(e.strong,{children:"HAS-MANY"})," Product (Aggregation)"]}),"\n",(0,i.jsxs)(e.li,{children:["Transaction ",(0,i.jsx)(e.strong,{children:"HAS-ONE"})," Product (Association)"]}),"\n",(0,i.jsxs)(e.li,{children:["Payment ",(0,i.jsx)(e.strong,{children:"USES"})," Coin/Note (Association)"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"class-design",children:"Class Design"}),"\n",(0,i.jsx)(e.h3,{id:"core-classes-with-responsibilities",children:"Core Classes with Responsibilities"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"VendingMachine"}),": Orchestrates all operations, manages state transitions"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Inventory"}),": Tracks product availability and manages stock"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Product"}),": Stores product details (name, price, code)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"VendingMachineState"}),": Abstract state class for state pattern"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"IdleState, SelectionState, PaymentState, DispensingState"}),": Concrete states"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Payment"}),": Handles payment logic and change calculation"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Coin/Note"}),": Represents money denominations"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Transaction"}),": Records transaction history"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"uml-class-diagram",children:"UML Class Diagram"}),"\n",(0,i.jsx)(e.mermaid,{value:'classDiagram\n    class VendingMachine {\n        -Inventory inventory\n        -VendingMachineState currentState\n        -Product selectedProduct\n        -double insertedAmount\n        -List~Transaction~ transactions\n        +selectProduct(String code) void\n        +insertCoin(Coin coin) void\n        +insertNote(Note note) void\n        +dispenseProduct() void\n        +returnChange() double\n        +cancelTransaction() void\n        +setState(VendingMachineState state) void\n        +getState() VendingMachineState\n    }\n\n    class Inventory {\n        -Map~String, ProductShelf~ shelves\n        +addProduct(String code, Product product, int quantity) void\n        +removeProduct(String code) boolean\n        +getProduct(String code) Product\n        +isAvailable(String code) boolean\n        +updateQuantity(String code, int quantity) void\n        +getQuantity(String code) int\n    }\n\n    class ProductShelf {\n        -Product product\n        -int quantity\n        -String code\n        +isAvailable() boolean\n        +removeItem() boolean\n        +addItem() void\n    }\n\n    class Product {\n        -String name\n        -double price\n        -String code\n        -ProductType type\n        +getName() String\n        +getPrice() double\n        +getCode() String\n    }\n\n    class VendingMachineState {\n        <<abstract>>\n        #VendingMachine machine\n        +selectProduct(String code) void\n        +insertCoin(Coin coin) void\n        +insertNote(Note note) void\n        +dispenseProduct() void\n        +returnChange() double\n        +cancelTransaction() void\n    }\n\n    class IdleState {\n        +selectProduct(String code) void\n        +insertCoin(Coin coin) void\n    }\n\n    class SelectionState {\n        +selectProduct(String code) void\n        +insertCoin(Coin coin) void\n        +insertNote(Note note) void\n        +cancelTransaction() void\n    }\n\n    class PaymentState {\n        +insertCoin(Coin coin) void\n        +insertNote(Note note) void\n        +dispenseProduct() void\n        +cancelTransaction() void\n    }\n\n    class DispensingState {\n        +dispenseProduct() void\n    }\n\n    class Payment {\n        -double totalAmount\n        -List~Coin~ coinsInserted\n        -List~Note~ notesInserted\n        +addCoin(Coin coin) void\n        +addNote(Note note) void\n        +getTotalAmount() double\n        +calculateChange(double price) double\n        +reset() void\n    }\n\n    class Coin {\n        <<enumeration>>\n        PENNY(0.01)\n        NICKEL(0.05)\n        DIME(0.10)\n        QUARTER(0.25)\n        DOLLAR(1.00)\n        -double value\n    }\n\n    class Note {\n        <<enumeration>>\n        ONE(1)\n        FIVE(5)\n        TEN(10)\n        TWENTY(20)\n        -int value\n    }\n\n    class Transaction {\n        -String transactionId\n        -Product product\n        -double amount\n        -LocalDateTime timestamp\n        -TransactionStatus status\n        +getDetails() String\n    }\n\n    class TransactionStatus {\n        <<enumeration>>\n        SUCCESS\n        FAILED\n        CANCELLED\n        REFUNDED\n    }\n\n    class ProductType {\n        <<enumeration>>\n        BEVERAGE\n        SNACK\n        CANDY\n        FOOD\n    }\n\n    VendingMachine "1" --\x3e "1" Inventory : has\n    VendingMachine "1" --\x3e "1" VendingMachineState : current\n    VendingMachine "1" --\x3e "*" Transaction : records\n    VendingMachine "1" --\x3e "1" Payment : processes\n    Inventory "1" --\x3e "*" ProductShelf : manages\n    ProductShelf "1" --\x3e "1" Product : contains\n    VendingMachineState <|-- IdleState : extends\n    VendingMachineState <|-- SelectionState : extends\n    VendingMachineState <|-- PaymentState : extends\n    VendingMachineState <|-- DispensingState : extends\n    Payment --\x3e Coin : uses\n    Payment --\x3e Note : uses\n    Transaction --\x3e Product : for\n    Transaction --\x3e TransactionStatus : has\n    Product --\x3e ProductType : categorized by'}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"implementation",children:"Implementation"}),"\n",(0,i.jsx)(e.h3,{id:"enums",children:"Enums"}),"\n",(0,i.jsx)(e.h4,{id:"coinjava",children:"Coin.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public enum Coin {\n    PENNY(0.01),\n    NICKEL(0.05),\n    DIME(0.10),\n    QUARTER(0.25),\n    DOLLAR(1.00);\n\n    private final double value;\n\n    Coin(double value) {\n        this.value = value;\n    }\n\n    public double getValue() {\n        return value;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"notejava",children:"Note.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public enum Note {\n    ONE(1),\n    FIVE(5),\n    TEN(10),\n    TWENTY(20),\n    FIFTY(50);\n\n    private final int value;\n\n    Note(int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"transactionstatusjava",children:"TransactionStatus.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public enum TransactionStatus {\n    SUCCESS,\n    FAILED,\n    CANCELLED,\n    REFUNDED\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"producttypejava",children:"ProductType.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public enum ProductType {\n    BEVERAGE,\n    SNACK,\n    CANDY,\n    FOOD,\n    OTHER\n}\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"product-classes",children:"Product Classes"}),"\n",(0,i.jsx)(e.h4,{id:"productjava",children:"Product.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class Product {\n    private String name;\n    private double price;\n    private String code;\n    private ProductType type;\n\n    public Product(String name, double price, String code, ProductType type) {\n        this.name = name;\n        this.price = price;\n        this.code = code;\n        this.type = type;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public ProductType getType() {\n        return type;\n    }\n\n    @Override\n    public String toString() {\n        return String.format("%s (%s) - $%.2f", name, code, price);\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"productshelfjava",children:"ProductShelf.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class ProductShelf {\n    private Product product;\n    private int quantity;\n    private String code;\n\n    public ProductShelf(String code, Product product, int quantity) {\n        this.code = code;\n        this.product = product;\n        this.quantity = quantity;\n    }\n\n    public boolean isAvailable() {\n        return quantity > 0;\n    }\n\n    public synchronized boolean removeItem() {\n        if (quantity > 0) {\n            quantity--;\n            return true;\n        }\n        return false;\n    }\n\n    public synchronized void addItem() {\n        quantity++;\n    }\n\n    public synchronized void addItems(int count) {\n        quantity += count;\n    }\n\n    public Product getProduct() {\n        return product;\n    }\n\n    public int getQuantity() {\n        return quantity;\n    }\n\n    public String getCode() {\n        return code;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"inventory-management",children:"Inventory Management"}),"\n",(0,i.jsx)(e.h4,{id:"inventoryjava",children:"Inventory.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.util.HashMap;\nimport java.util.Map;\n\npublic class Inventory {\n    private Map<String, ProductShelf> shelves;\n\n    public Inventory() {\n        this.shelves = new HashMap<>();\n    }\n\n    public void addProduct(String code, Product product, int quantity) {\n        if (shelves.containsKey(code)) {\n            ProductShelf shelf = shelves.get(code);\n            shelf.addItems(quantity);\n            System.out.println("Added " + quantity + " units of " + product.getName());\n        } else {\n            ProductShelf shelf = new ProductShelf(code, product, quantity);\n            shelves.put(code, shelf);\n            System.out.println("Added new product: " + product.getName() + " with " + quantity + " units");\n        }\n    }\n\n    public boolean removeProduct(String code) {\n        if (shelves.containsKey(code)) {\n            ProductShelf shelf = shelves.get(code);\n            return shelf.removeItem();\n        }\n        return false;\n    }\n\n    public Product getProduct(String code) {\n        ProductShelf shelf = shelves.get(code);\n        return shelf != null ? shelf.getProduct() : null;\n    }\n\n    public boolean isAvailable(String code) {\n        ProductShelf shelf = shelves.get(code);\n        return shelf != null && shelf.isAvailable();\n    }\n\n    public int getQuantity(String code) {\n        ProductShelf shelf = shelves.get(code);\n        return shelf != null ? shelf.getQuantity() : 0;\n    }\n\n    public void displayInventory() {\n        System.out.println("\\n=== Current Inventory ===");\n        for (ProductShelf shelf : shelves.values()) {\n            System.out.printf("%s - Quantity: %d - $%.2f%n",\n                shelf.getProduct().getName(),\n                shelf.getQuantity(),\n                shelf.getProduct().getPrice());\n        }\n        System.out.println("========================\\n");\n    }\n\n    public Map<String, ProductShelf> getAllShelves() {\n        return shelves;\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"payment-processing",children:"Payment Processing"}),"\n",(0,i.jsx)(e.h4,{id:"paymentjava",children:"Payment.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.util.ArrayList;\nimport java.util.List;\n\npublic class Payment {\n    private double totalAmount;\n    private List<Coin> coinsInserted;\n    private List<Note> notesInserted;\n\n    public Payment() {\n        this.totalAmount = 0.0;\n        this.coinsInserted = new ArrayList<>();\n        this.notesInserted = new ArrayList<>();\n    }\n\n    public void addCoin(Coin coin) {\n        coinsInserted.add(coin);\n        totalAmount += coin.getValue();\n        System.out.printf("Coin inserted: %s ($%.2f). Total: $%.2f%n",\n            coin.name(), coin.getValue(), totalAmount);\n    }\n\n    public void addNote(Note note) {\n        notesInserted.add(note);\n        totalAmount += note.getValue();\n        System.out.printf("Note inserted: $%d. Total: $%.2f%n",\n            note.getValue(), totalAmount);\n    }\n\n    public double getTotalAmount() {\n        return totalAmount;\n    }\n\n    public double calculateChange(double price) {\n        return totalAmount - price;\n    }\n\n    public boolean hasSufficientAmount(double price) {\n        return totalAmount >= price;\n    }\n\n    public void reset() {\n        this.totalAmount = 0.0;\n        this.coinsInserted.clear();\n        this.notesInserted.clear();\n    }\n\n    public List<Coin> getCoinsInserted() {\n        return coinsInserted;\n    }\n\n    public List<Note> getNotesInserted() {\n        return notesInserted;\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"transaction-management",children:"Transaction Management"}),"\n",(0,i.jsx)(e.h4,{id:"transactionjava",children:"Transaction.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.UUID;\n\npublic class Transaction {\n    private String transactionId;\n    private Product product;\n    private double amount;\n    private LocalDateTime timestamp;\n    private TransactionStatus status;\n\n    public Transaction(Product product, double amount, TransactionStatus status) {\n        this.transactionId = UUID.randomUUID().toString().substring(0, 8);\n        this.product = product;\n        this.amount = amount;\n        this.timestamp = LocalDateTime.now();\n        this.status = status;\n    }\n\n    public String getDetails() {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");\n        return String.format("Transaction ID: %s%nProduct: %s%nAmount: $%.2f%nTime: %s%nStatus: %s",\n            transactionId, product.getName(), amount, timestamp.format(formatter), status);\n    }\n\n    public String getTransactionId() {\n        return transactionId;\n    }\n\n    public Product getProduct() {\n        return product;\n    }\n\n    public double getAmount() {\n        return amount;\n    }\n\n    public TransactionStatus getStatus() {\n        return status;\n    }\n\n    public LocalDateTime getTimestamp() {\n        return timestamp;\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"state-pattern-implementation",children:"State Pattern Implementation"}),"\n",(0,i.jsx)(e.h4,{id:"vendingmachinestatejava-abstract",children:"VendingMachineState.java (Abstract)"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public abstract class VendingMachineState {\n    protected VendingMachine machine;\n\n    public VendingMachineState(VendingMachine machine) {\n        this.machine = machine;\n    }\n\n    public abstract void selectProduct(String code);\n\n    public abstract void insertCoin(Coin coin);\n\n    public abstract void insertNote(Note note);\n\n    public abstract void dispenseProduct();\n\n    public abstract double returnChange();\n\n    public abstract void cancelTransaction();\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"idlestatejava",children:"IdleState.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class IdleState extends VendingMachineState {\n\n    public IdleState(VendingMachine machine) {\n        super(machine);\n    }\n\n    @Override\n    public void selectProduct(String code) {\n        System.out.println("\\n--- Product Selection ---");\n\n        if (!machine.getInventory().isAvailable(code)) {\n            System.out.println("Product not available or out of stock!");\n            return;\n        }\n\n        Product product = machine.getInventory().getProduct(code);\n        machine.setSelectedProduct(product);\n        System.out.println("Selected: " + product);\n        System.out.printf("Price: $%.2f. Please insert money.%n", product.getPrice());\n\n        machine.setState(new SelectionState(machine));\n    }\n\n    @Override\n    public void insertCoin(Coin coin) {\n        System.out.println("Please select a product first!");\n    }\n\n    @Override\n    public void insertNote(Note note) {\n        System.out.println("Please select a product first!");\n    }\n\n    @Override\n    public void dispenseProduct() {\n        System.out.println("Please select a product first!");\n    }\n\n    @Override\n    public double returnChange() {\n        System.out.println("No transaction in progress.");\n        return 0.0;\n    }\n\n    @Override\n    public void cancelTransaction() {\n        System.out.println("No transaction to cancel.");\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"selectionstatejava",children:"SelectionState.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class SelectionState extends VendingMachineState {\n\n    public SelectionState(VendingMachine machine) {\n        super(machine);\n    }\n\n    @Override\n    public void selectProduct(String code) {\n        System.out.println("Product already selected. Complete or cancel current transaction.");\n    }\n\n    @Override\n    public void insertCoin(Coin coin) {\n        System.out.println("\\n--- Payment Processing ---");\n        machine.getPayment().addCoin(coin);\n        checkPaymentCompletion();\n    }\n\n    @Override\n    public void insertNote(Note note) {\n        System.out.println("\\n--- Payment Processing ---");\n        machine.getPayment().addNote(note);\n        checkPaymentCompletion();\n    }\n\n    private void checkPaymentCompletion() {\n        Product selectedProduct = machine.getSelectedProduct();\n        Payment payment = machine.getPayment();\n\n        if (payment.hasSufficientAmount(selectedProduct.getPrice())) {\n            System.out.println("Payment complete! Dispensing product...");\n            machine.setState(new PaymentState(machine));\n            machine.getState().dispenseProduct();\n        } else {\n            double remaining = selectedProduct.getPrice() - payment.getTotalAmount();\n            System.out.printf("Amount remaining: $%.2f%n", remaining);\n        }\n    }\n\n    @Override\n    public void dispenseProduct() {\n        System.out.println("Please complete payment first!");\n    }\n\n    @Override\n    public double returnChange() {\n        System.out.println("Transaction not complete.");\n        return 0.0;\n    }\n\n    @Override\n    public void cancelTransaction() {\n        System.out.println("\\n--- Transaction Cancelled ---");\n        double refund = machine.getPayment().getTotalAmount();\n\n        if (refund > 0) {\n            System.out.printf("Refunding: $%.2f%n", refund);\n        }\n\n        // Record cancelled transaction\n        machine.addTransaction(new Transaction(\n            machine.getSelectedProduct(),\n            refund,\n            TransactionStatus.CANCELLED\n        ));\n\n        machine.reset();\n        System.out.println("Machine reset. Select a new product.");\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"paymentstatejava",children:"PaymentState.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class PaymentState extends VendingMachineState {\n\n    public PaymentState(VendingMachine machine) {\n        super(machine);\n    }\n\n    @Override\n    public void selectProduct(String code) {\n        System.out.println("Please complete current transaction first!");\n    }\n\n    @Override\n    public void insertCoin(Coin coin) {\n        System.out.println("Payment already completed!");\n    }\n\n    @Override\n    public void insertNote(Note note) {\n        System.out.println("Payment already completed!");\n    }\n\n    @Override\n    public void dispenseProduct() {\n        machine.setState(new DispensingState(machine));\n        machine.getState().dispenseProduct();\n    }\n\n    @Override\n    public double returnChange() {\n        Product product = machine.getSelectedProduct();\n        Payment payment = machine.getPayment();\n        double change = payment.calculateChange(product.getPrice());\n\n        if (change > 0) {\n            System.out.printf("Returning change: $%.2f%n", change);\n        }\n\n        return change;\n    }\n\n    @Override\n    public void cancelTransaction() {\n        System.out.println("Cannot cancel - payment completed. Dispensing product...");\n        dispenseProduct();\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"dispensingstatejava",children:"DispensingState.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class DispensingState extends VendingMachineState {\n\n    public DispensingState(VendingMachine machine) {\n        super(machine);\n    }\n\n    @Override\n    public void selectProduct(String code) {\n        System.out.println("Please wait - dispensing product...");\n    }\n\n    @Override\n    public void insertCoin(Coin coin) {\n        System.out.println("Please wait - dispensing product...");\n    }\n\n    @Override\n    public void insertNote(Note note) {\n        System.out.println("Please wait - dispensing product...");\n    }\n\n    @Override\n    public void dispenseProduct() {\n        System.out.println("\\n--- Dispensing Product ---");\n\n        Product product = machine.getSelectedProduct();\n\n        // Remove product from inventory\n        boolean dispensed = machine.getInventory().removeProduct(product.getCode());\n\n        if (dispensed) {\n            System.out.println("\u2713 " + product.getName() + " dispensed successfully!");\n\n            // Return change\n            double change = returnChange();\n\n            // Record successful transaction\n            machine.addTransaction(new Transaction(\n                product,\n                product.getPrice(),\n                TransactionStatus.SUCCESS\n            ));\n\n            System.out.println("Thank you for your purchase!");\n        } else {\n            System.out.println("\u2717 Error dispensing product. Refunding...");\n            double refund = machine.getPayment().getTotalAmount();\n            System.out.printf("Refunded: $%.2f%n", refund);\n\n            machine.addTransaction(new Transaction(\n                product,\n                refund,\n                TransactionStatus.FAILED\n            ));\n        }\n\n        // Reset machine\n        machine.reset();\n    }\n\n    @Override\n    public double returnChange() {\n        Product product = machine.getSelectedProduct();\n        Payment payment = machine.getPayment();\n        double change = payment.calculateChange(product.getPrice());\n\n        if (change > 0) {\n            System.out.printf("\u2713 Change returned: $%.2f%n", change);\n        }\n\n        return change;\n    }\n\n    @Override\n    public void cancelTransaction() {\n        System.out.println("Cannot cancel - product being dispensed.");\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"main-vending-machine",children:"Main Vending Machine"}),"\n",(0,i.jsx)(e.h4,{id:"vendingmachinejava",children:"VendingMachine.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.util.ArrayList;\nimport java.util.List;\n\npublic class VendingMachine {\n    private Inventory inventory;\n    private VendingMachineState currentState;\n    private Product selectedProduct;\n    private Payment payment;\n    private List<Transaction> transactions;\n\n    public VendingMachine() {\n        this.inventory = new Inventory();\n        this.currentState = new IdleState(this);\n        this.payment = new Payment();\n        this.transactions = new ArrayList<>();\n        System.out.println("Vending Machine initialized!");\n    }\n\n    // State operations - delegate to current state\n    public void selectProduct(String code) {\n        currentState.selectProduct(code);\n    }\n\n    public void insertCoin(Coin coin) {\n        currentState.insertCoin(coin);\n    }\n\n    public void insertNote(Note note) {\n        currentState.insertNote(note);\n    }\n\n    public void dispenseProduct() {\n        currentState.dispenseProduct();\n    }\n\n    public double returnChange() {\n        return currentState.returnChange();\n    }\n\n    public void cancelTransaction() {\n        currentState.cancelTransaction();\n    }\n\n    // State management\n    public void setState(VendingMachineState state) {\n        this.currentState = state;\n    }\n\n    public VendingMachineState getState() {\n        return currentState;\n    }\n\n    // Reset machine to idle state\n    public void reset() {\n        this.selectedProduct = null;\n        this.payment.reset();\n        this.currentState = new IdleState(this);\n    }\n\n    // Getters and setters\n    public Inventory getInventory() {\n        return inventory;\n    }\n\n    public Product getSelectedProduct() {\n        return selectedProduct;\n    }\n\n    public void setSelectedProduct(Product product) {\n        this.selectedProduct = product;\n    }\n\n    public Payment getPayment() {\n        return payment;\n    }\n\n    public void addTransaction(Transaction transaction) {\n        transactions.add(transaction);\n    }\n\n    public List<Transaction> getTransactions() {\n        return transactions;\n    }\n\n    // Display methods\n    public void displayProducts() {\n        System.out.println("\\n======= Available Products =======");\n        for (ProductShelf shelf : inventory.getAllShelves().values()) {\n            Product p = shelf.getProduct();\n            System.out.printf("[%s] %s - $%.2f (Stock: %d)%n",\n                p.getCode(), p.getName(), p.getPrice(), shelf.getQuantity());\n        }\n        System.out.println("==================================\\n");\n    }\n\n    public void displayTransactionHistory() {\n        System.out.println("\\n======= Transaction History =======");\n        if (transactions.isEmpty()) {\n            System.out.println("No transactions yet.");\n        } else {\n            for (Transaction t : transactions) {\n                System.out.println(t.getDetails());\n                System.out.println("-----------------------------------");\n            }\n        }\n        System.out.println("===================================\\n");\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"demo-class",children:"Demo Class"}),"\n",(0,i.jsx)(e.h4,{id:"vendingmachinedemojava",children:"VendingMachineDemo.java"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class VendingMachineDemo {\n    public static void main(String[] args) {\n        System.out.println("=== Vending Machine System Demo ===\\n");\n\n        // Initialize vending machine\n        VendingMachine machine = new VendingMachine();\n\n        // Stock the machine with products\n        System.out.println("--- Stocking Machine ---");\n        machine.getInventory().addProduct("A1",\n            new Product("Coca Cola", 1.50, "A1", ProductType.BEVERAGE), 10);\n        machine.getInventory().addProduct("A2",\n            new Product("Pepsi", 1.50, "A2", ProductType.BEVERAGE), 8);\n        machine.getInventory().addProduct("B1",\n            new Product("Lays Chips", 2.00, "B1", ProductType.SNACK), 15);\n        machine.getInventory().addProduct("B2",\n            new Product("Doritos", 2.25, "B2", ProductType.SNACK), 12);\n        machine.getInventory().addProduct("C1",\n            new Product("Snickers", 1.75, "C1", ProductType.CANDY), 20);\n        machine.getInventory().addProduct("C2",\n            new Product("KitKat", 1.50, "C2", ProductType.CANDY), 18);\n\n        machine.displayProducts();\n\n        // Scenario 1: Successful purchase with exact amount\n        System.out.println("\\n========== SCENARIO 1: Exact Payment ==========");\n        machine.selectProduct("A1");\n        machine.insertNote(Note.ONE);\n        machine.insertCoin(Coin.QUARTER);\n        machine.insertCoin(Coin.QUARTER);\n\n        machine.displayProducts();\n\n        // Scenario 2: Successful purchase with change\n        System.out.println("\\n========== SCENARIO 2: Payment with Change ==========");\n        machine.selectProduct("B1");\n        machine.insertNote(Note.FIVE);\n\n        machine.displayProducts();\n\n        // Scenario 3: Transaction cancellation\n        System.out.println("\\n========== SCENARIO 3: Cancelled Transaction ==========");\n        machine.selectProduct("C1");\n        machine.insertNote(Note.ONE);\n        machine.cancelTransaction();\n\n        // Scenario 4: Out of stock\n        System.out.println("\\n========== SCENARIO 4: Depleting Stock ==========");\n        // Buy all Coca Cola\n        for (int i = 0; i < 9; i++) {\n            machine.selectProduct("A1");\n            machine.insertNote(Note.FIVE);\n        }\n\n        // Try to buy when out of stock\n        System.out.println("\\n--- Attempting to buy out-of-stock item ---");\n        machine.selectProduct("A1");\n\n        machine.displayProducts();\n\n        // Scenario 5: Insufficient payment\n        System.out.println("\\n========== SCENARIO 5: Insufficient Payment ==========");\n        machine.selectProduct("B2");\n        machine.insertNote(Note.ONE);\n        System.out.println("Need more money...");\n        machine.insertNote(Note.ONE);\n        machine.insertCoin(Coin.QUARTER);\n\n        // Display transaction history\n        machine.displayTransactionHistory();\n\n        System.out.println("\\n=== Demo Complete ===");\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"state-design-pattern-deep-dive",children:"State Design Pattern Deep Dive"}),"\n",(0,i.jsx)(e.h3,{id:"why-state-pattern",children:"Why State Pattern?"}),"\n",(0,i.jsx)(e.p,{children:"The State pattern is perfect for vending machines because:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Clear State Transitions"}),": Machine has distinct states (Idle \u2192 Selection \u2192 Payment \u2192 Dispensing)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Different Behaviors"}),": Same operation (insertCoin) behaves differently in each state"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Maintainability"}),": Easy to add new states without modifying existing code"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Eliminates Conditionals"}),": No complex if-else chains"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"state-transition-diagram",children:"State Transition Diagram"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Idle   \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                       \u2502\n     \u2502 selectProduct()            \u2502\n     \u25bc                            \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                       \u2502\n\u2502Selection\u2502                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                       \u2502\n     \u2502 insertCoin/Note()          \u2502\n     \u2502 (sufficient payment)       \u2502\n     \u25bc                            \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                       \u2502\n\u2502 Payment \u2502                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                       \u2502\n     \u2502 dispenseProduct()          \u2502\n     \u25bc                            \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                       \u2502\n\u2502Dispensing\u2502                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                       \u2502\n     \u2502 complete                   \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"benefits-in-our-implementation",children:"Benefits in Our Implementation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// Without State Pattern (BAD):\npublic void insertCoin(Coin coin) {\n    if (state == IDLE) {\n        System.out.println("Select product first");\n    } else if (state == SELECTION) {\n        // Add coin logic\n    } else if (state == PAYMENT) {\n        System.out.println("Already paid");\n    } else if (state == DISPENSING) {\n        System.out.println("Dispensing...");\n    }\n}\n\n// With State Pattern (GOOD):\npublic void insertCoin(Coin coin) {\n    currentState.insertCoin(coin); // Delegate to state\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"design-patterns--best-practices",children:"Design Patterns & Best Practices"}),"\n",(0,i.jsx)(e.h3,{id:"design-patterns-used",children:"Design Patterns Used"}),"\n",(0,i.jsx)(e.h4,{id:"1-state-pattern",children:"1. State Pattern"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Purpose"}),": Manage vending machine states and their transitions"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Implementation"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Abstract ",(0,i.jsx)(e.code,{children:"VendingMachineState"})," class defines contract"]}),"\n",(0,i.jsxs)(e.li,{children:["Concrete states: ",(0,i.jsx)(e.code,{children:"IdleState"}),", ",(0,i.jsx)(e.code,{children:"SelectionState"}),", ",(0,i.jsx)(e.code,{children:"PaymentState"}),", ",(0,i.jsx)(e.code,{children:"DispensingState"})]}),"\n",(0,i.jsx)(e.li,{children:"Each state handles operations differently"}),"\n",(0,i.jsx)(e.li,{children:"Clean state transitions without complex conditionals"}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Benefits"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Single Responsibility: Each state manages its own behavior"}),"\n",(0,i.jsx)(e.li,{children:"Open/Closed: Easy to add new states without modifying existing code"}),"\n",(0,i.jsx)(e.li,{children:"Eliminates complex if-else chains"}),"\n",(0,i.jsx)(e.li,{children:"Clear state transition logic"}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"2-singleton-pattern-optional-enhancement",children:"2. Singleton Pattern (Optional Enhancement)"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Purpose"}),": Ensure only one vending machine instance exists"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class VendingMachine {\n    private static VendingMachine instance;\n\n    private VendingMachine() {\n        // Private constructor\n    }\n\n    public static synchronized VendingMachine getInstance() {\n        if (instance == null) {\n            instance = new VendingMachine();\n        }\n        return instance;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"3-strategy-pattern-payment-processing",children:"3. Strategy Pattern (Payment Processing)"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Purpose"}),": Support multiple payment methods"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public interface PaymentStrategy {\n    boolean processPayment(double amount);\n    void refund(double amount);\n}\n\npublic class CashPayment implements PaymentStrategy {\n    @Override\n    public boolean processPayment(double amount) {\n        // Cash processing logic\n        return true;\n    }\n}\n\npublic class CardPayment implements PaymentStrategy {\n    @Override\n    public boolean processPayment(double amount) {\n        // Card processing logic\n        return true;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"4-factory-pattern-product-creation",children:"4. Factory Pattern (Product Creation)"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Purpose"}),": Create different types of products"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class ProductFactory {\n    public static Product createProduct(ProductType type, String name,\n                                       double price, String code) {\n        switch (type) {\n            case BEVERAGE:\n                return new BeverageProduct(name, price, code);\n            case SNACK:\n                return new SnackProduct(name, price, code);\n            case CANDY:\n                return new CandyProduct(name, price, code);\n            default:\n                return new Product(name, price, code, type);\n        }\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"solid-principles-applied",children:"SOLID Principles Applied"}),"\n",(0,i.jsx)(e.h4,{id:"single-responsibility-principle-srp",children:"Single Responsibility Principle (SRP)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Inventory"}),": Only manages product stock"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Payment"}),": Only handles payment processing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"VendingMachineState"}),": Only manages state behavior"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Transaction"}),": Only records transaction data"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"openclosed-principle-ocp",children:"Open/Closed Principle (OCP)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"System is open for extension (new states, products, payment methods)"}),"\n",(0,i.jsx)(e.li,{children:"Closed for modification (core logic doesn't change)"}),"\n",(0,i.jsx)(e.li,{children:"Example: Add new payment method without changing existing code"}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"liskov-substitution-principle-lsp",children:"Liskov Substitution Principle (LSP)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["All state classes can substitute ",(0,i.jsx)(e.code,{children:"VendingMachineState"})]}),"\n",(0,i.jsx)(e.li,{children:"Polymorphic behavior works correctly"}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"interface-segregation-principle-isp",children:"Interface Segregation Principle (ISP)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"States implement only relevant operations"}),"\n",(0,i.jsx)(e.li,{children:"No forced implementation of unused methods"}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"dependency-inversion-principle-dip",children:"Dependency Inversion Principle (DIP)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["VendingMachine depends on abstract ",(0,i.jsx)(e.code,{children:"VendingMachineState"})]}),"\n",(0,i.jsx)(e.li,{children:"Not dependent on concrete state implementations"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"best-practices-implemented",children:"Best Practices Implemented"}),"\n",(0,i.jsx)(e.h4,{id:"1-encapsulation",children:"1. Encapsulation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// Private fields with public getters/setters\nprivate Inventory inventory;\nprivate VendingMachineState currentState;\n\npublic Inventory getInventory() {\n    return inventory;\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"2-thread-safety",children:"2. Thread Safety"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// Synchronized methods in ProductShelf\npublic synchronized boolean removeItem() {\n    if (quantity > 0) {\n        quantity--;\n        return true;\n    }\n    return false;\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"3-immutability-enums",children:"3. Immutability (Enums)"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public enum Coin {\n    PENNY(0.01);\n\n    private final double value; // Final field\n\n    Coin(double value) {\n        this.value = value;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"4-defensive-programming",children:"4. Defensive Programming"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// Check for null and boundary conditions\npublic Product getProduct(String code) {\n    ProductShelf shelf = shelves.get(code);\n    return shelf != null ? shelf.getProduct() : null;\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"5-clear-naming-conventions",children:"5. Clear Naming Conventions"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Classes: PascalCase (e.g., ",(0,i.jsx)(e.code,{children:"VendingMachine"}),")"]}),"\n",(0,i.jsxs)(e.li,{children:["Methods: camelCase (e.g., ",(0,i.jsx)(e.code,{children:"selectProduct"}),")"]}),"\n",(0,i.jsxs)(e.li,{children:["Constants: UPPER_SNAKE_CASE (e.g., ",(0,i.jsx)(e.code,{children:"TRANSACTION_TIMEOUT"}),")"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"edge-cases--extensions",children:"Edge Cases & Extensions"}),"\n",(0,i.jsx)(e.h3,{id:"edge-cases-handled",children:"Edge Cases Handled"}),"\n",(0,i.jsx)(e.h4,{id:"1-out-of-stock",children:"1. Out of Stock"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'@Override\npublic void selectProduct(String code) {\n    if (!machine.getInventory().isAvailable(code)) {\n        System.out.println("Product not available or out of stock!");\n        return;\n    }\n    // Continue with selection\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"2-insufficient-payment",children:"2. Insufficient Payment"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'private void checkPaymentCompletion() {\n    if (payment.hasSufficientAmount(selectedProduct.getPrice())) {\n        // Proceed to dispensing\n    } else {\n        double remaining = selectedProduct.getPrice() - payment.getTotalAmount();\n        System.out.printf("Amount remaining: $%.2f%n", remaining);\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"3-transaction-cancellation",children:"3. Transaction Cancellation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'@Override\npublic void cancelTransaction() {\n    double refund = machine.getPayment().getTotalAmount();\n    if (refund > 0) {\n        System.out.printf("Refunding: $%.2f%n", refund);\n    }\n    machine.addTransaction(new Transaction(\n        machine.getSelectedProduct(),\n        refund,\n        TransactionStatus.CANCELLED\n    ));\n    machine.reset();\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"4-dispensing-failure",children:"4. Dispensing Failure"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'if (dispensed) {\n    // Success path\n} else {\n    System.out.println("\u2717 Error dispensing product. Refunding...");\n    double refund = machine.getPayment().getTotalAmount();\n    machine.addTransaction(new Transaction(\n        product, refund, TransactionStatus.FAILED\n    ));\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"5-concurrent-access",children:"5. Concurrent Access"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// Synchronized methods prevent race conditions\npublic synchronized boolean removeItem() {\n    if (quantity > 0) {\n        quantity--;\n        return true;\n    }\n    return false;\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"potential-extensions",children:"Potential Extensions"}),"\n",(0,i.jsx)(e.h4,{id:"1-multi-currency-support",children:"1. Multi-Currency Support"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class CurrencyConverter {\n    private Map<String, Double> exchangeRates;\n\n    public double convert(double amount, String from, String to) {\n        // Currency conversion logic\n        return amount * exchangeRates.get(to) / exchangeRates.get(from);\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"2-digital-payment-integration",children:"2. Digital Payment Integration"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class DigitalWallet implements PaymentStrategy {\n    private String walletId;\n\n    @Override\n    public boolean processPayment(double amount) {\n        // Integrate with payment gateway API\n        return PaymentGateway.charge(walletId, amount);\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"3-temperature-control-for-perishables",children:"3. Temperature Control (for perishables)"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class RefrigeratedShelf extends ProductShelf {\n    private double currentTemp;\n    private double targetTemp;\n\n    public boolean isTemperatureOptimal() {\n        return Math.abs(currentTemp - targetTemp) < 2.0;\n    }\n\n    public void adjustTemperature() {\n        // Temperature control logic\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"4-remote-monitoring",children:"4. Remote Monitoring"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class VendingMachineMonitor {\n    private VendingMachine machine;\n\n    public void sendInventoryAlert() {\n        for (ProductShelf shelf : machine.getInventory().getAllShelves().values()) {\n            if (shelf.getQuantity() < 3) {\n                notifyAdmin("Low stock: " + shelf.getProduct().getName());\n            }\n        }\n    }\n\n    public void sendStatusReport() {\n        // Send machine status to central server\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"5-loyalty-program",children:"5. Loyalty Program"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class LoyaltyProgram {\n    private Map<String, Integer> customerPoints;\n\n    public void addPoints(String customerId, double purchaseAmount) {\n        int points = (int) (purchaseAmount * 10);\n        customerPoints.put(customerId,\n            customerPoints.getOrDefault(customerId, 0) + points);\n    }\n\n    public boolean redeemPoints(String customerId, int points) {\n        if (customerPoints.getOrDefault(customerId, 0) >= points) {\n            customerPoints.put(customerId, customerPoints.get(customerId) - points);\n            return true;\n        }\n        return false;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"6-expiry-date-tracking",children:"6. Expiry Date Tracking"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class PerishableProduct extends Product {\n    private LocalDate expiryDate;\n\n    public PerishableProduct(String name, double price, String code,\n                            ProductType type, LocalDate expiryDate) {\n        super(name, price, code, type);\n        this.expiryDate = expiryDate;\n    }\n\n    public boolean isExpired() {\n        return LocalDate.now().isAfter(expiryDate);\n    }\n\n    public long getDaysUntilExpiry() {\n        return ChronoUnit.DAYS.between(LocalDate.now(), expiryDate);\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"7-dynamic-pricing",children:"7. Dynamic Pricing"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class PricingStrategy {\n    public double calculatePrice(Product product, LocalTime time) {\n        // Off-peak discount (10 PM - 6 AM)\n        if (time.isAfter(LocalTime.of(22, 0)) ||\n            time.isBefore(LocalTime.of(6, 0))) {\n            return product.getPrice() * 0.9; // 10% discount\n        }\n        return product.getPrice();\n    }\n\n    public double applyBulkDiscount(Product product, int quantity) {\n        if (quantity >= 3) {\n            return product.getPrice() * 0.85; // 15% bulk discount\n        }\n        return product.getPrice();\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h4,{id:"8-maintenance-mode",children:"8. Maintenance Mode"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class MaintenanceState extends VendingMachineState {\n    private String maintenanceReason;\n\n    public MaintenanceState(VendingMachine machine, String reason) {\n        super(machine);\n        this.maintenanceReason = reason;\n    }\n\n    @Override\n    public void selectProduct(String code) {\n        System.out.println("Machine under maintenance: " + maintenanceReason);\n    }\n\n    // Override all methods to show maintenance message\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"9-receipt-generation",children:"9. Receipt Generation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class ReceiptGenerator {\n    public String generateReceipt(Transaction transaction) {\n        StringBuilder receipt = new StringBuilder();\n        receipt.append("========== RECEIPT ==========\\n");\n        receipt.append("Date: ").append(transaction.getTimestamp()).append("\\n");\n        receipt.append("Transaction ID: ").append(transaction.getTransactionId()).append("\\n");\n        receipt.append("Product: ").append(transaction.getProduct().getName()).append("\\n");\n        receipt.append("Price: $").append(String.format("%.2f", transaction.getAmount())).append("\\n");\n        receipt.append("Status: ").append(transaction.getStatus()).append("\\n");\n        receipt.append("=============================\\n");\n        return receipt.toString();\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"10-analytics--reporting",children:"10. Analytics & Reporting"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"public class VendingMachineAnalytics {\n    private List<Transaction> transactions;\n\n    public Map<String, Integer> getMostPopularProducts() {\n        return transactions.stream()\n            .filter(t -> t.getStatus() == TransactionStatus.SUCCESS)\n            .collect(Collectors.groupingBy(\n                t -> t.getProduct().getName(),\n                Collectors.summingInt(e -> 1)\n            ));\n    }\n\n    public double getTotalRevenue() {\n        return transactions.stream()\n            .filter(t -> t.getStatus() == TransactionStatus.SUCCESS)\n            .mapToDouble(Transaction::getAmount)\n            .sum();\n    }\n\n    public Map<LocalDate, Double> getDailyRevenue() {\n        return transactions.stream()\n            .filter(t -> t.getStatus() == TransactionStatus.SUCCESS)\n            .collect(Collectors.groupingBy(\n                t -> t.getTimestamp().toLocalDate(),\n                Collectors.summingDouble(Transaction::getAmount)\n            ));\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"error-handling-improvements",children:"Error Handling Improvements"}),"\n",(0,i.jsx)(e.h4,{id:"1-custom-exceptions",children:"1. Custom Exceptions"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class InsufficientStockException extends Exception {\n    public InsufficientStockException(String product) {\n        super("Product out of stock: " + product);\n    }\n}\n\npublic class InsufficientPaymentException extends Exception {\n    public InsufficientPaymentException(double required, double provided) {\n        super(String.format("Insufficient payment. Required: $%.2f, Provided: $%.2f",\n            required, provided));\n    }\n}\n\npublic class ProductNotFoundException extends Exception {\n    public ProductNotFoundException(String code) {\n        super("Product not found with code: " + code);\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"2-logging-framework-integration",children:"2. Logging Framework Integration"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'import java.util.logging.Logger;\nimport java.util.logging.Level;\n\npublic class VendingMachine {\n    private static final Logger LOGGER = Logger.getLogger(VendingMachine.class.getName());\n\n    public void selectProduct(String code) {\n        LOGGER.log(Level.INFO, "Product selection attempted: " + code);\n        try {\n            currentState.selectProduct(code);\n            LOGGER.log(Level.INFO, "Product selected successfully: " + code);\n        } catch (Exception e) {\n            LOGGER.log(Level.SEVERE, "Error selecting product", e);\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(e.h3,{id:"key-design-decisions",children:"Key Design Decisions"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"State Pattern"}),": Core pattern for managing machine behavior across different states"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Enum for Currency"}),": Type-safe representation of coins and notes"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Synchronized Methods"}),": Thread-safe inventory management"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Transaction Logging"}),": Complete audit trail of all operations"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Separation of Concerns"}),": Clear separation between inventory, payment, and state management"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"system-characteristics",children:"System Characteristics"}),"\n",(0,i.jsx)(e.h4,{id:"strengths",children:"Strengths"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Maintainable"}),": Easy to understand and modify"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Extensible"}),": Simple to add new features"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Robust"}),": Handles edge cases gracefully"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Type-Safe"}),": Strong typing prevents errors"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Thread-Safe"}),": Safe for concurrent access"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"trade-offs",children:"Trade-offs"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Memory"}),": Stores all transaction history in memory"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Complexity"}),": State pattern adds initial complexity"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Single Transaction"}),": Only one transaction at a time"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"No Persistence"}),": Data lost on restart (can be extended with database)"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"testing-strategy",children:"Testing Strategy"}),"\n",(0,i.jsx)(e.h4,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'@Test\npublic void testProductSelection() {\n    VendingMachine machine = new VendingMachine();\n    machine.getInventory().addProduct("A1",\n        new Product("Coke", 1.50, "A1", ProductType.BEVERAGE), 5);\n\n    machine.selectProduct("A1");\n    assertNotNull(machine.getSelectedProduct());\n    assertEquals("Coke", machine.getSelectedProduct().getName());\n}\n\n@Test\npublic void testInsufficientPayment() {\n    VendingMachine machine = new VendingMachine();\n    machine.getInventory().addProduct("A1",\n        new Product("Coke", 1.50, "A1", ProductType.BEVERAGE), 5);\n\n    machine.selectProduct("A1");\n    machine.insertCoin(Coin.QUARTER);\n\n    // Should still be in SelectionState, not Payment\n    assertTrue(machine.getState() instanceof SelectionState);\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"integration-tests",children:"Integration Tests"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'@Test\npublic void testCompleteTransaction() {\n    VendingMachine machine = new VendingMachine();\n    machine.getInventory().addProduct("A1",\n        new Product("Coke", 1.50, "A1", ProductType.BEVERAGE), 5);\n\n    machine.selectProduct("A1");\n    machine.insertNote(Note.FIVE);\n\n    assertEquals(1, machine.getTransactions().size());\n    assertEquals(TransactionStatus.SUCCESS,\n        machine.getTransactions().get(0).getStatus());\n    assertEquals(4, machine.getInventory().getQuantity("A1"));\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Time Complexity"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Product selection: O(1) - HashMap lookup"}),"\n",(0,i.jsx)(e.li,{children:"Inventory check: O(1) - HashMap lookup"}),"\n",(0,i.jsx)(e.li,{children:"State transition: O(1) - Direct reference"}),"\n",(0,i.jsx)(e.li,{children:"Transaction logging: O(1) - ArrayList append"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Space Complexity"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Inventory: O(n) where n = number of product types"}),"\n",(0,i.jsx)(e.li,{children:"Transactions: O(m) where m = number of transactions"}),"\n",(0,i.jsx)(e.li,{children:"Payment: O(c) where c = number of coins/notes inserted"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Optimizations"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Use HashMap for O(1) product lookup"}),"\n",(0,i.jsx)(e.li,{children:"Lazy initialization of states (optional)"}),"\n",(0,i.jsx)(e.li,{children:"Connection pooling for database operations (if added)"}),"\n",(0,i.jsx)(e.li,{children:"Cache frequently accessed products"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"deployment-considerations",children:"Deployment Considerations"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Configuration Management"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Externalize product catalog (JSON/Database)"}),"\n",(0,i.jsx)(e.li,{children:"Configure currency denominations"}),"\n",(0,i.jsx)(e.li,{children:"Set inventory thresholds for alerts"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Monitoring"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Track inventory levels"}),"\n",(0,i.jsx)(e.li,{children:"Monitor transaction success rates"}),"\n",(0,i.jsx)(e.li,{children:"Alert on dispensing failures"}),"\n",(0,i.jsx)(e.li,{children:"Log payment anomalies"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Security"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Encrypt payment data"}),"\n",(0,i.jsx)(e.li,{children:"Validate all inputs"}),"\n",(0,i.jsx)(e.li,{children:"Implement rate limiting"}),"\n",(0,i.jsx)(e.li,{children:"Audit all operations"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsx)(e.p,{children:"This low-level design provides a robust, maintainable, and extensible foundation for a vending machine system. The use of the State pattern ensures clean state management, while SOLID principles make the codebase easy to understand and modify. The system handles common edge cases and provides clear extension points for future enhancements."}),"\n",(0,i.jsx)(e.p,{children:"The design balances simplicity with functionality, making it suitable for both educational purposes and as a foundation for real-world implementations with appropriate extensions for hardware integration, persistence, and advanced features."})]})}function u(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}}}]);