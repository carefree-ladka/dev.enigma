"use strict";(self.webpackChunkdev_enigma=self.webpackChunkdev_enigma||[]).push([[94287],{28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>o});var t=i(96540);const s={},l=t.createContext(s);function c(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(l.Provider,{value:n},e.children)}},45621:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>d});var t=i(74848),s=i(28453);const l={},c="JavaScript Execution Context - Complete Guide",o={id:"Interview Prep 2026/JavaScript Execution Context - Complete Guide",title:"JavaScript Execution Context - Complete Guide",description:"Table of Contents",source:"@site/docs/08-Interview Prep 2026/JavaScript Execution Context - Complete Guide.mdx",sourceDirName:"08-Interview Prep 2026",slug:"/Interview Prep 2026/JavaScript Execution Context - Complete Guide",permalink:"/docs/Interview Prep 2026/JavaScript Execution Context - Complete Guide",draft:!1,unlisted:!1,editUrl:"https://github.com/carefree-ladka/docs/08-Interview Prep 2026/JavaScript Execution Context - Complete Guide.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"JavaScript Execution Context & Lexical Environment - Complete Guide",permalink:"/docs/Interview Prep 2026/JavaScript Execution Context & Lexical Environment - Complete Guide"},next:{title:"JavaScript Execution Model: From Start to Finish",permalink:"/docs/Interview Prep 2026/JavaScript Execution Model: From Start to Finish"}},r={},d=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"What is an Execution Context?",id:"what-is-an-execution-context",level:2},{value:"Types of Execution Context",id:"types-of-execution-context",level:2},{value:"Global Execution Context (GEC)",id:"global-execution-context-gec",level:2},{value:"When is it created?",id:"when-is-it-created",level:3},{value:"What happens inside the Global EC?",id:"what-happens-inside-the-global-ec",level:3},{value:"1. Memory Creation Phase (Hoisting)",id:"1-memory-creation-phase-hoisting",level:4},{value:"2. Execution Phase",id:"2-execution-phase",level:4},{value:"Function Execution Context (FEC)",id:"function-execution-context-fec",level:2},{value:"When is it created?",id:"when-is-it-created-1",level:3},{value:"What happens inside the Function EC?",id:"what-happens-inside-the-function-ec",level:3},{value:"Memory Creation Phase",id:"memory-creation-phase",level:4},{value:"Execution Phase",id:"execution-phase",level:4},{value:"Call Stack",id:"call-stack",level:2},{value:"Example:",id:"example",level:3},{value:"Stack Flow:",id:"stack-flow",level:3},{value:"Visual Representation:",id:"visual-representation",level:3},{value:"The <code>this</code> Keyword in Execution Context",id:"the-this-keyword-in-execution-context",level:2},{value:"In Global EC:",id:"in-global-ec",level:3},{value:"In Function EC:",id:"in-function-ec",level:3},{value:"In Method Call:",id:"in-method-call",level:3},{value:"Lexical vs Variable Environment",id:"lexical-vs-variable-environment",level:2},{value:"Lexical Environment",id:"lexical-environment",level:3},{value:"Variable Environment",id:"variable-environment",level:3},{value:"Hoisting Summary",id:"hoisting-summary",level:2},{value:"Complete Execution Flow Example",id:"complete-execution-flow-example",level:2},{value:"Execution Order:",id:"execution-order",level:3},{value:"Execution Context vs Scope",id:"execution-context-vs-scope",level:2},{value:"One-liner:",id:"one-liner",level:3},{value:"Example:",id:"example-1",level:3},{value:"Closures and Execution Context",id:"closures-and-execution-context",level:2},{value:"Definition",id:"definition",level:3},{value:"How Closures Form (Internals)",id:"how-closures-form-internals",level:3},{value:"What Happens Internally:",id:"what-happens-internally",level:3},{value:"Memory Model:",id:"memory-model",level:3},{value:"Important Points:",id:"important-points",level:3},{value:"Execution Context and Event Loop",id:"execution-context-and-event-loop",level:2},{value:"Execution Flow:",id:"execution-flow",level:3},{value:"Output:",id:"output",level:3},{value:"Key Rule:",id:"key-rule",level:3},{value:"Microtasks and Execution Context",id:"microtasks-and-execution-context",level:2},{value:"Output:",id:"output-1",level:3},{value:"Why?",id:"why",level:3},{value:"Priority Order:",id:"priority-order",level:3},{value:"Common Interview Questions",id:"common-interview-questions",level:2},{value:"Q: Does closure increase memory usage?",id:"q-does-closure-increase-memory-usage",level:3},{value:"Q: Is a closure created on function call or definition?",id:"q-is-a-closure-created-on-function-call-or-definition",level:3},{value:"Q: Does a block create an execution context?",id:"q-does-a-block-create-an-execution-context",level:3},{value:"Mental Models",id:"mental-models",level:2},{value:"Interview One-Liners",id:"interview-one-liners",level:2},{value:"Execution Context Lifecycle",id:"execution-context-lifecycle",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"javascript-execution-context---complete-guide",children:"JavaScript Execution Context - Complete Guide"})}),"\n",(0,t.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#what-is-an-execution-context",children:"What is an Execution Context?"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#types-of-execution-context",children:"Types of Execution Context"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#global-execution-context-gec",children:"Global Execution Context (GEC)"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#function-execution-context-fec",children:"Function Execution Context (FEC)"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#call-stack",children:"Call Stack"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.a,{href:"#the-this-keyword-in-execution-context",children:["The ",(0,t.jsx)(n.code,{children:"this"})," Keyword in Execution Context"]})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#lexical-vs-variable-environment",children:"Lexical vs Variable Environment"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#hoisting-summary",children:"Hoisting Summary"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#complete-execution-flow-example",children:"Complete Execution Flow Example"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#execution-context-vs-scope",children:"Execution Context vs Scope"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#closures-and-execution-context",children:"Closures and Execution Context"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#execution-context-and-event-loop",children:"Execution Context and Event Loop"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#microtasks-and-execution-context",children:"Microtasks and Execution Context"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#common-interview-questions",children:"Common Interview Questions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#mental-models",children:"Mental Models"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"what-is-an-execution-context",children:"What is an Execution Context?"}),"\n",(0,t.jsxs)(n.p,{children:["An ",(0,t.jsx)(n.strong,{children:"Execution Context (EC)"})," is the environment where JavaScript code is evaluated and executed. Think of it as a container that holds all the information needed to run a piece of code."]}),"\n",(0,t.jsx)(n.p,{children:"Every Execution Context has three components:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Variable Environment"})," - stores variables declared with ",(0,t.jsx)(n.code,{children:"var"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lexical Environment"})," - stores variables declared with ",(0,t.jsx)(n.code,{children:"let"})," and ",(0,t.jsx)(n.code,{children:"const"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:[(0,t.jsx)(n.code,{children:"this"})," binding"]})," - determines what ",(0,t.jsx)(n.code,{children:"this"})," refers to"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"types-of-execution-context",children:"Types of Execution Context"}),"\n",(0,t.jsx)(n.p,{children:"There are three types of execution contexts in JavaScript:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Global Execution Context (GEC)"})," - created when the JavaScript file starts executing"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Function Execution Context (FEC)"})," - created each time a function is invoked"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Eval Execution Context"})," - created when code runs inside ",(0,t.jsx)(n.code,{children:"eval()"})," (rarely used in modern JavaScript)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"global-execution-context-gec",children:"Global Execution Context (GEC)"}),"\n",(0,t.jsx)(n.h3,{id:"when-is-it-created",children:"When is it created?"}),"\n",(0,t.jsxs)(n.p,{children:["The Global Execution Context is created when your JavaScript file starts executing. There is only ",(0,t.jsx)(n.strong,{children:"one"})," GEC in your entire program, and it's stored at the bottom of the Call Stack."]}),"\n",(0,t.jsx)(n.h3,{id:"what-happens-inside-the-global-ec",children:"What happens inside the Global EC?"}),"\n",(0,t.jsx)(n.p,{children:"The GEC goes through two phases:"}),"\n",(0,t.jsx)(n.h4,{id:"1-memory-creation-phase-hoisting",children:"1. Memory Creation Phase (Hoisting)"}),"\n",(0,t.jsx)(n.p,{children:"During this phase, JavaScript allocates memory for variables and functions:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"var"})," declarations \u2192 initialized to ",(0,t.jsx)(n.code,{children:"undefined"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"let"})," and ",(0,t.jsx)(n.code,{children:"const"})," \u2192 placed in the Temporal Dead Zone (TDZ)"]}),"\n",(0,t.jsx)(n.li,{children:"Function declarations \u2192 fully hoisted with their definitions"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"this"})," \u2192 points to ",(0,t.jsx)(n.code,{children:"window"})," (browser) or ",(0,t.jsx)(n.code,{children:"global"})," (Node.js)"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"console.log(a); // undefined (hoisted but not yet assigned)\nvar a = 10;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"2-execution-phase",children:"2. Execution Phase"}),"\n",(0,t.jsx)(n.p,{children:"During this phase, the code runs line by line:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Variables are assigned their actual values"}),"\n",(0,t.jsx)(n.li,{children:"Functions are invoked"}),"\n",(0,t.jsx)(n.li,{children:"Expressions are evaluated"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"function-execution-context-fec",children:"Function Execution Context (FEC)"}),"\n",(0,t.jsx)(n.h3,{id:"when-is-it-created-1",children:"When is it created?"}),"\n",(0,t.jsxs)(n.p,{children:["A new Function Execution Context is created ",(0,t.jsx)(n.strong,{children:"each time"})," a function is invoked. When the function completes, its execution context is destroyed."]}),"\n",(0,t.jsx)(n.h3,{id:"what-happens-inside-the-function-ec",children:"What happens inside the Function EC?"}),"\n",(0,t.jsx)(n.p,{children:"Like the GEC, the FEC also has two phases:"}),"\n",(0,t.jsx)(n.h4,{id:"memory-creation-phase",children:"Memory Creation Phase"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Function parameters \u2192 initialized to ",(0,t.jsx)(n.code,{children:"undefined"})]}),"\n",(0,t.jsx)(n.li,{children:"Local variables \u2192 hoisted according to their declaration type"}),"\n",(0,t.jsx)(n.li,{children:"Inner functions \u2192 hoisted"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"this"})," \u2192 depends on how the function is called"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"execution-phase",children:"Execution Phase"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Parameters and variables are assigned values"}),"\n",(0,t.jsx)(n.li,{children:"Statements are executed"}),"\n",(0,t.jsx)(n.li,{children:"Return value is computed"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"call-stack",children:"Call Stack"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Call Stack"})," is a data structure that tracks execution contexts. It follows the Last In, First Out (LIFO) principle."]}),"\n",(0,t.jsx)(n.h3,{id:"example",children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"function one() {\n  two();\n}\n\nfunction two() {\n  console.log('Hello');\n}\n\none();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"stack-flow",children:"Stack Flow:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"1. Global EC (pushed)\n2. one() EC (pushed)\n3. two() EC (pushed)\n4. two() EC (popped - after console.log)\n5. one() EC (popped - after two() returns)\n6. Global EC remains until program ends\n"})}),"\n",(0,t.jsx)(n.h3,{id:"visual-representation",children:"Visual Representation:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Call Stack at peak:\n\n| two()  |  \u2190 Top\n| one()  |\n| GEC    |  \u2190 Bottom\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"the-this-keyword-in-execution-context",children:["The ",(0,t.jsx)(n.code,{children:"this"})," Keyword in Execution Context"]}),"\n",(0,t.jsxs)(n.p,{children:["The value of ",(0,t.jsx)(n.code,{children:"this"})," depends on the execution context:"]}),"\n",(0,t.jsx)(n.h3,{id:"in-global-ec",children:"In Global EC:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"console.log(this); // window (browser) / global (Node.js)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"in-function-ec",children:"In Function EC:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"function test() {\n  console.log(this);\n}\ntest(); // window (non-strict mode), undefined (strict mode)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"in-method-call",children:"In Method Call:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const obj = {\n  fn: function() {\n    console.log(this);\n  }\n};\nobj.fn(); // this \u2192 obj\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"lexical-vs-variable-environment",children:"Lexical vs Variable Environment"}),"\n",(0,t.jsx)(n.p,{children:"Both are part of the execution context but handle different types of declarations:"}),"\n",(0,t.jsx)(n.h3,{id:"lexical-environment",children:"Lexical Environment"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Stores variables declared with ",(0,t.jsx)(n.code,{children:"let"})," and ",(0,t.jsx)(n.code,{children:"const"})]}),"\n",(0,t.jsx)(n.li,{children:"Block-scoped"}),"\n",(0,t.jsxs)(n.li,{children:["Respects block boundaries (",(0,t.jsx)(n.code,{children:"{}"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"variable-environment",children:"Variable Environment"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Stores variables declared with ",(0,t.jsx)(n.code,{children:"var"})]}),"\n",(0,t.jsx)(n.li,{children:"Function-scoped"}),"\n",(0,t.jsx)(n.li,{children:"Ignores block boundaries (except function blocks)"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"hoisting-summary",children:"Hoisting Summary"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Declaration"}),(0,t.jsx)(n.th,{children:"Hoisted?"}),(0,t.jsx)(n.th,{children:"Initial Value"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"var"})}),(0,t.jsx)(n.td,{children:"\u2705 Yes"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"undefined"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"let"})}),(0,t.jsx)(n.td,{children:"\u2705 Yes"}),(0,t.jsx)(n.td,{children:"TDZ (Temporal Dead Zone)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"const"})}),(0,t.jsx)(n.td,{children:"\u2705 Yes"}),(0,t.jsx)(n.td,{children:"TDZ (Temporal Dead Zone)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"function"})}),(0,t.jsx)(n.td,{children:"\u2705 Yes"}),(0,t.jsx)(n.td,{children:"Function reference"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Arrow function"}),(0,t.jsx)(n.td,{children:"\u274c No"}),(0,t.jsx)(n.td,{children:"TDZ"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"complete-execution-flow-example",children:"Complete Execution Flow Example"}),"\n",(0,t.jsx)(n.p,{children:"Let's trace through a complete example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"var x = 1;\n\nfunction foo(a) {\n  var y = 2;\n  function bar() {\n    console.log(a, x, y);\n  }\n  bar();\n}\n\nfoo(10);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"execution-order",children:"Execution Order:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Global EC created"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"x"})," hoisted \u2192 ",(0,t.jsx)(n.code,{children:"undefined"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"foo"})," hoisted \u2192 function reference"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Execution phase begins"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"x"})," assigned ",(0,t.jsx)(n.code,{children:"1"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsxs)(n.strong,{children:[(0,t.jsx)(n.code,{children:"foo(10)"})," called"]})," \u2192 Function EC created"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"a"})," assigned ",(0,t.jsx)(n.code,{children:"10"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"y"})," hoisted \u2192 ",(0,t.jsx)(n.code,{children:"undefined"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"bar"})," hoisted \u2192 function reference"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"y"})," assigned ",(0,t.jsx)(n.code,{children:"2"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsxs)(n.strong,{children:[(0,t.jsx)(n.code,{children:"bar()"})," called"]})," \u2192 New Function EC created"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Looks up ",(0,t.jsx)(n.code,{children:"a"})," \u2192 finds ",(0,t.jsx)(n.code,{children:"10"})," in ",(0,t.jsx)(n.code,{children:"foo"}),"'s scope"]}),"\n",(0,t.jsxs)(n.li,{children:["Looks up ",(0,t.jsx)(n.code,{children:"x"})," \u2192 finds ",(0,t.jsx)(n.code,{children:"1"})," in global scope"]}),"\n",(0,t.jsxs)(n.li,{children:["Looks up ",(0,t.jsx)(n.code,{children:"y"})," \u2192 finds ",(0,t.jsx)(n.code,{children:"2"})," in ",(0,t.jsx)(n.code,{children:"foo"}),"'s scope"]}),"\n",(0,t.jsxs)(n.li,{children:["Logs: ",(0,t.jsx)(n.code,{children:"10 1 2"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Contexts are popped"})," in reverse order"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"execution-context-vs-scope",children:"Execution Context vs Scope"}),"\n",(0,t.jsx)(n.p,{children:"These concepts are often confused but are fundamentally different:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Aspect"}),(0,t.jsx)(n.th,{children:"Execution Context"}),(0,t.jsx)(n.th,{children:"Scope"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),(0,t.jsx)(n.td,{children:"Environment where code runs"}),(0,t.jsx)(n.td,{children:"Where variables are accessible"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Created"})}),(0,t.jsx)(n.td,{children:"At runtime"}),(0,t.jsx)(n.td,{children:"At definition time (lexical)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Storage"})}),(0,t.jsx)(n.td,{children:"Call Stack"}),(0,t.jsx)(n.td,{children:"Lexical structure"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Lifetime"})}),(0,t.jsx)(n.td,{children:"Destroyed after execution"}),(0,t.jsx)(n.td,{children:"Can survive via closures"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"one-liner",children:"One-liner:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Execution context is runtime, scope is lexical."})}),"\n",(0,t.jsx)(n.h3,{id:"example-1",children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"function outer() {\n  var x = 10;\n\n  function inner() {\n    console.log(x);\n  }\n\n  return inner;\n}\n\nconst fn = outer();\nfn(); // 10\n"})}),"\n",(0,t.jsx)(n.p,{children:"In this example:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"outer()"}),"'s execution context is ",(0,t.jsx)(n.strong,{children:"destroyed"})," \u274c"]}),"\n",(0,t.jsxs)(n.li,{children:["But ",(0,t.jsx)(n.code,{children:"x"})," is still ",(0,t.jsx)(n.strong,{children:"accessible"})," \u2705 \u2192 this is a closure"]}),"\n",(0,t.jsx)(n.li,{children:"Scope survives EC destruction"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"closures-and-execution-context",children:"Closures and Execution Context"}),"\n",(0,t.jsx)(n.h3,{id:"definition",children:"Definition"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.strong,{children:"closure"})," is created when a function remembers variables from its lexical scope, even after the outer function's execution context is gone."]}),"\n",(0,t.jsx)(n.h3,{id:"how-closures-form-internals",children:"How Closures Form (Internals)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"function counter() {\n  let count = 0;\n\n  return function() {\n    count++;\n    console.log(count);\n  };\n}\n\nconst inc = counter();\ninc(); // 1\ninc(); // 2\n"})}),"\n",(0,t.jsx)(n.h3,{id:"what-happens-internally",children:"What Happens Internally:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"counter()"})," \u2192 Function EC created"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"count"})," stored in Lexical Environment"]}),"\n",(0,t.jsx)(n.li,{children:"Inner function returned"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"counter()"})," EC popped from Call Stack"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"count"})," retained via closure (reference maintained)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"memory-model",children:"Memory Model:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Heap:\n \u2514\u2500\u2500 LexicalEnv { count: 0 }\n\nCall Stack:\n \u2514\u2500\u2500 inner() EC\n"})}),"\n",(0,t.jsx)(n.h3,{id:"important-points",children:"Important Points:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Closures ",(0,t.jsx)(n.strong,{children:"don't copy values"})," \u274c"]}),"\n",(0,t.jsxs)(n.li,{children:["Closures ",(0,t.jsx)(n.strong,{children:"keep references"})," \u2705"]}),"\n",(0,t.jsxs)(n.li,{children:["Common use cases:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Event handlers"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"setTimeout"})}),"\n",(0,t.jsx)(n.li,{children:"Currying"}),"\n",(0,t.jsx)(n.li,{children:"Memoization"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"execution-context-and-event-loop",children:"Execution Context and Event Loop"}),"\n",(0,t.jsx)(n.p,{children:"Understanding how execution contexts interact with the event loop is crucial:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"console.log('A');\n\nsetTimeout(() => console.log('B'), 0);\n\nconsole.log('C');\n"})}),"\n",(0,t.jsx)(n.h3,{id:"execution-flow",children:"Execution Flow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Global EC created"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"'A'"})," logged"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"setTimeout"})," \u2192 callback sent to Web APIs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"'C'"})," logged"]}),"\n",(0,t.jsx)(n.li,{children:"Global EC completes"}),"\n",(0,t.jsx)(n.li,{children:"Event loop pushes callback to Call Stack"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"'B'"})," logged"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"output",children:"Output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"A\nC\nB\n"})}),"\n",(0,t.jsx)(n.h3,{id:"key-rule",children:"Key Rule:"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Call Stack must be empty"})," before the Event Loop can push callbacks from the queue."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"microtasks-and-execution-context",children:"Microtasks and Execution Context"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"console.log('A');\n\nPromise.resolve().then(() => console.log('B'));\n\nconsole.log('C');\n"})}),"\n",(0,t.jsx)(n.h3,{id:"output-1",children:"Output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"A\nC\nB\n"})}),"\n",(0,t.jsx)(n.h3,{id:"why",children:"Why?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Microtasks"})," (like ",(0,t.jsx)(n.code,{children:"Promise.then"}),") are executed:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"After the current execution context finishes"}),"\n",(0,t.jsxs)(n.li,{children:["Before macrotasks (like ",(0,t.jsx)(n.code,{children:"setTimeout"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"priority-order",children:"Priority Order:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"1. Call Stack\n2. Microtask Queue (Promises, queueMicrotask)\n3. Macrotask Queue (setTimeout, setInterval, I/O)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"common-interview-questions",children:"Common Interview Questions"}),"\n",(0,t.jsx)(n.h3,{id:"q-does-closure-increase-memory-usage",children:"Q: Does closure increase memory usage?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," Yes, if references are retained unnecessarily. Closures keep variables in memory even after the outer function completes."]}),"\n",(0,t.jsx)(n.h3,{id:"q-is-a-closure-created-on-function-call-or-definition",children:"Q: Is a closure created on function call or definition?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," Definition time (lexical scope). The closure is formed when the function is defined, not when it's called."]}),"\n",(0,t.jsx)(n.h3,{id:"q-does-a-block-create-an-execution-context",children:"Q: Does a block create an execution context?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A:"})," No \u274c. Only functions create execution contexts. Blocks create lexical scope but not execution contexts."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"mental-models",children:"Mental Models"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Concept"}),(0,t.jsx)(n.th,{children:"Think of it as"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Execution Context"}),(0,t.jsx)(n.td,{children:"Stack frame in memory"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Scope"}),(0,t.jsx)(n.td,{children:"Variable visibility rules"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Closure"}),(0,t.jsx)(n.td,{children:"Preserved lexical environment"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Event Loop"}),(0,t.jsx)(n.td,{children:"Stack coordinator"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"interview-one-liners",children:"Interview One-Liners"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Execution Context:"}),"\n",(0,t.jsx)(n.em,{children:'"An execution context is the environment where JavaScript code runs, consisting of memory creation and execution phases, created globally once and per function call thereafter."'})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"EC vs Scope vs Closure:"}),"\n",(0,t.jsx)(n.em,{children:'"Execution contexts manage runtime execution, scopes define variable access, and closures allow lexical environments to survive beyond their execution contexts."'})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"execution-context-lifecycle",children:"Execution Context Lifecycle"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Code runs\n    \u2193\nExecution Context created\n    \u2193\nMemory phase (hoisting)\n    \u2193\nExecution phase\n    \u2193\nContext popped from stack\n    \u2193\nNext context runs (if any)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Execution contexts"})," are created at runtime and manage code execution"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scope"})," is determined at definition time and controls variable access"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Closures"})," allow inner functions to access outer variables even after the outer function has finished"]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:"Call Stack"})," tracks all active execution contexts"]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:"Event Loop"})," coordinates between the Call Stack and task queues"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Microtasks"})," have higher priority than macrotasks"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);