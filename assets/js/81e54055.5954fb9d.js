"use strict";(self.webpackChunkdev_enigma=self.webpackChunkdev_enigma||[]).push([[5190],{10886:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>a,frontMatter:()=>c,metadata:()=>t,toc:()=>d});var s=i(74848),l=i(28453);const c={},r="JavaScript Execution Context & Lexical Environment - Complete Guide",t={id:"Interview Prep 2026/JavaScript Execution Context & Lexical Environment - Complete Guide",title:"JavaScript Execution Context & Lexical Environment - Complete Guide",description:"Interview-Ready Reference | FAANG-Level Depth",source:"@site/docs/08-Interview Prep 2026/JavaScript Execution Context & Lexical Environment - Complete Guide.mdx",sourceDirName:"08-Interview Prep 2026",slug:"/Interview Prep 2026/JavaScript Execution Context & Lexical Environment - Complete Guide",permalink:"/docs/Interview Prep 2026/JavaScript Execution Context & Lexical Environment - Complete Guide",draft:!1,unlisted:!1,editUrl:"https://github.com/carefree-ladka/docs/08-Interview Prep 2026/JavaScript Execution Context & Lexical Environment - Complete Guide.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"JavaScript Event Loop - Complete Guide",permalink:"/docs/Interview Prep 2026/JavaScript Event Loop - Complete Guide"},next:{title:"JavaScript Execution Context - Complete Guide",permalink:"/docs/Interview Prep 2026/JavaScript Execution Context - Complete Guide"}},o={},d=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"<a></a>1. Execution Context",id:"1-execution-context",level:2},{value:"<a></a>Core Concept",id:"core-concept",level:3},{value:"<a></a>Types of Execution Contexts",id:"types-of-execution-contexts",level:3},{value:"<a></a>Global Execution Context (GEC)",id:"global-execution-context-gec",level:3},{value:"\ud83d\udd01 GEC is created in two phases",id:"-gec-is-created-in-two-phases",level:4},{value:"<a></a>Function Execution Context (FEC)",id:"function-execution-context-fec",level:3},{value:"Example",id:"example",level:4},{value:"<a></a>Call Stack (Execution Context Stack)",id:"call-stack-execution-context-stack",level:3},{value:"Example",id:"example-1",level:4},{value:"Visual Mental Model (Interview Gold)",id:"visual-mental-model-interview-gold",level:4},{value:"Global vs Function Execution Context (Comparison)",id:"global-vs-function-execution-context-comparison",level:3},{value:"<a></a>2. Lexical Environment",id:"2-lexical-environment",level:2},{value:"<a></a>Core Concept",id:"core-concept-1",level:3},{value:"<a></a>Formal Definition (Interview-safe)",id:"formal-definition-interview-safe",level:3},{value:"<a></a>Lexical Scope (Core Rule)",id:"lexical-scope-core-rule",level:3},{value:"Example",id:"example-2",level:4},{value:"<a></a>Block Scope (let / const)",id:"block-scope-let--const",level:3},{value:"<a></a>Scope Chain (Variable Resolution)",id:"scope-chain-variable-resolution",level:3},{value:"Example",id:"example-3",level:4},{value:"<a></a>3. The Big Picture: How They Work Together",id:"3-the-big-picture-how-they-work-together",level:2},{value:"Execution Context vs Lexical Environment",id:"execution-context-vs-lexical-environment",level:3},{value:"Complete Mental Model",id:"complete-mental-model",level:3},{value:"<a></a>4. Closures Explained",id:"4-closures-explained",level:2},{value:"<a></a>5. Interview Traps &amp; Edge Cases",id:"5-interview-traps--edge-cases",level:2},{value:"\u26a0\ufe0f Trap 1: Lexical \u2260 Dynamic",id:"\ufe0f-trap-1-lexical--dynamic",level:3},{value:"\u26a0\ufe0f Trap 2: var vs let in loops",id:"\ufe0f-trap-2-var-vs-let-in-loops",level:3},{value:"\u26a0\ufe0f Trap 3: Are let and const hoisted?",id:"\ufe0f-trap-3-are-let-and-const-hoisted",level:3},{value:"\u26a0\ufe0f Trap 4: Does arrow function have its own execution context?",id:"\ufe0f-trap-4-does-arrow-function-have-its-own-execution-context",level:3},{value:"<a></a>6. Quick Reference Tables",id:"6-quick-reference-tables",level:2},{value:"Hoisting Behavior",id:"hoisting-behavior",level:3},{value:"Scope Types",id:"scope-types",level:3},{value:"<a></a>7. One-Liners to Memorize",id:"7-one-liners-to-memorize",level:2},{value:"Execution Context",id:"execution-context",level:3},{value:"Lexical Environment",id:"lexical-environment",level:3},{value:"The Connection",id:"the-connection",level:3},{value:"Common Microsoft/Google Follow-up Questions",id:"common-microsoftgoogle-follow-up-questions",level:2}];function x(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"javascript-execution-context--lexical-environment---complete-guide",children:"JavaScript Execution Context & Lexical Environment - Complete Guide"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Interview-Ready Reference | FAANG-Level Depth"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#execution-context",children:"Execution Context"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ec-core",children:"Core Concept"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ec-types",children:"Types of Execution Contexts"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#gec",children:"Global Execution Context (GEC)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#fec",children:"Function Execution Context (FEC)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#call-stack",children:"Call Stack"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#lexical-environment",children:"Lexical Environment"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#le-core",children:"Core Concept"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#le-structure",children:"Structure"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#lexical-scope",children:"Lexical Scope"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#block-scope",children:"Block Scope"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#scope-chain",children:"Scope Chain"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#big-picture",children:"The Big Picture: How They Work Together"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#closures",children:"Closures Explained"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#traps",children:"Interview Traps & Edge Cases"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#tables",children:"Quick Reference Tables"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#memorize",children:"One-Liners to Memorize"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"1-execution-context",children:[(0,s.jsx)("a",{name:"execution-context"}),"1. Execution Context"]}),"\n",(0,s.jsxs)(n.h3,{id:"core-concept",children:[(0,s.jsx)("a",{name:"ec-core"}),"Core Concept"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Execution Context"})," = the environment in which JavaScript code is evaluated and executed"]}),"\n",(0,s.jsxs)(n.p,{children:["Think of it as a ",(0,s.jsx)(n.strong,{children:"runtime box"})," that stores:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Variables"}),"\n",(0,s.jsx)(n.li,{children:"Functions"}),"\n",(0,s.jsx)(n.li,{children:"Scope chain"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"this"})," value"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Rule:"})," JavaScript always runs inside an execution context. No context \u2192 no execution."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"types-of-execution-contexts",children:[(0,s.jsx)("a",{name:"ec-types"}),"Types of Execution Contexts"]}),"\n",(0,s.jsxs)(n.p,{children:["JavaScript has ",(0,s.jsx)(n.strong,{children:"3 main types"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Global Execution Context (GEC)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Function Execution Context (FEC)"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Eval Execution Context"})," (rare, ignore in interviews)"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["We'll focus on ",(0,s.jsx)(n.strong,{children:"GEC + FEC"}),"."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"global-execution-context-gec",children:[(0,s.jsx)("a",{name:"gec"}),"Global Execution Context (GEC)"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"When is it created?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Immediately when JS file starts executing"}),"\n",(0,s.jsxs)(n.li,{children:["Only ",(0,s.jsx)(n.strong,{children:"one GEC"})," per program"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What does GEC contain?"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Global Object"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Browser \u2192 ",(0,s.jsx)(n.code,{children:"window"})]}),"\n",(0,s.jsxs)(n.li,{children:["Node.js \u2192 ",(0,s.jsx)(n.code,{children:"global"})]}),"\n",(0,s.jsx)(n.li,{children:"Global variables & functions attach here"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"this"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["In browser \u2192 ",(0,s.jsx)(n.code,{children:"this === window"})]}),"\n",(0,s.jsxs)(n.li,{children:["In strict mode \u2192 ",(0,s.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Memory & Code Phases"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"-gec-is-created-in-two-phases",children:"\ud83d\udd01 GEC is created in two phases"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 1: Memory Creation (Hoisting Phase)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'var a = 10;\nlet b = 20;\nfunction foo() {\n  console.log("hello");\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Memory Phase:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"a"})," \u2192 ",(0,s.jsx)(n.code,{children:"undefined"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"b"})," \u2192 ",(0,s.jsx)(n.code,{children:"<uninitialized>"})," (Temporal Dead Zone)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"foo"})," \u2192 ",(0,s.jsx)(n.code,{children:"function reference"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 2: Code Execution Phase"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Values assigned"}),"\n",(0,s.jsx)(n.li,{children:"Code executed line by line"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"a"})," \u2192 ",(0,s.jsx)(n.code,{children:"10"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"b"})," \u2192 ",(0,s.jsx)(n.code,{children:"20"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"function-execution-context-fec",children:[(0,s.jsx)("a",{name:"fec"}),"Function Execution Context (FEC)"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"When is it created?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Every time a function is ",(0,s.jsx)(n.strong,{children:"invoked"})]}),"\n",(0,s.jsxs)(n.li,{children:["Each call gets a ",(0,s.jsx)(n.strong,{children:"new execution context"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What does a Function Execution Context contain?"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Arguments object"}),"\n",(0,s.jsx)(n.li,{children:"Local variables"}),"\n",(0,s.jsx)(n.li,{children:"Inner function declarations"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"this"})," value"]}),"\n",(0,s.jsx)(n.li,{children:"Scope chain (lexical environment)"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function add(x, y) {\n  let sum = x + y;\n  return sum;\n}\nadd(2, 3);\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"FEC Creation Phases"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 1: Memory Creation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x"})," \u2192 ",(0,s.jsx)(n.code,{children:"2"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"y"})," \u2192 ",(0,s.jsx)(n.code,{children:"3"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sum"})," \u2192 ",(0,s.jsx)(n.code,{children:"<uninitialized>"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 2: Execution"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"sum = 5"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"return 5"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Once ",(0,s.jsx)(n.code,{children:"return"})," executes \u2192 ",(0,s.jsx)(n.strong,{children:"FEC is destroyed"}),"."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"call-stack-execution-context-stack",children:[(0,s.jsx)("a",{name:"call-stack"}),"Call Stack (Execution Context Stack)"]}),"\n",(0,s.jsxs)(n.p,{children:["JavaScript manages contexts using a ",(0,s.jsx)(n.strong,{children:"Call Stack"})," (LIFO - Last In First Out)."]}),"\n",(0,s.jsx)(n.h4,{id:"example-1",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'function first() {\n  second();\n}\nfunction second() {\n  console.log("Hello");\n}\nfirst();\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Stack Flow:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"| second() |\n| first()  |\n| Global   |\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"second()"})," finishes \u2192 popped"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"first()"})," finishes \u2192 popped"]}),"\n",(0,s.jsx)(n.li,{children:"Global remains"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"visual-mental-model-interview-gold",children:"Visual Mental Model (Interview Gold)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Call Stack:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 FEC: second()  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 FEC: first()   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 GEC            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Each function call:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Push context"}),"\n",(0,s.jsx)(n.li,{children:"Execute"}),"\n",(0,s.jsx)(n.li,{children:"Pop context"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"global-vs-function-execution-context-comparison",children:"Global vs Function Execution Context (Comparison)"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"Global EC"}),(0,s.jsx)(n.th,{children:"Function EC"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Created"}),(0,s.jsx)(n.td,{children:"On program start"}),(0,s.jsx)(n.td,{children:"On function call"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Count"}),(0,s.jsx)(n.td,{children:"Only one"}),(0,s.jsx)(n.td,{children:"Multiple"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Variables"}),(0,s.jsx)(n.td,{children:"Global variables"}),(0,s.jsx)(n.td,{children:"Local variables"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"this"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"window"})," (browser)"]}),(0,s.jsx)(n.td,{children:"Depends on call"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Lifetime"}),(0,s.jsx)(n.td,{children:"Till program ends"}),(0,s.jsx)(n.td,{children:"Till function returns"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"2-lexical-environment",children:[(0,s.jsx)("a",{name:"lexical-environment"}),"2. Lexical Environment"]}),"\n",(0,s.jsxs)(n.h3,{id:"core-concept-1",children:[(0,s.jsx)("a",{name:"le-core"}),"Core Concept"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Lexical Environment"})," = where variables are ",(0,s.jsx)(n.strong,{children:"physically written"})," in the code"]}),"\n",(0,s.jsxs)(n.p,{children:["Not when code runs \u2014 but ",(0,s.jsx)(n.strong,{children:"where it is defined"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"It decides:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Scope"}),"\n",(0,s.jsx)(n.li,{children:"Variable lookup"}),"\n",(0,s.jsx)(n.li,{children:"Closure behavior"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:'"Lexical"'})," = based on code structure, not runtime flow."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"formal-definition-interview-safe",children:[(0,s.jsx)("a",{name:"le-structure"}),"Formal Definition (Interview-safe)"]}),"\n",(0,s.jsx)(n.p,{children:"A Lexical Environment is a data structure that contains:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Environment Record"})," \u2013 stores variables & functions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Outer Reference"})," \u2013 link to the parent lexical environment"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Lexical Environment\n\u251c\u2500\u2500 Environment Record\n\u2514\u2500\u2500 Outer (reference to parent)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"lexical-scope-core-rule",children:[(0,s.jsx)("a",{name:"lexical-scope"}),"Lexical Scope (Core Rule)"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\ud83d\udc49 JavaScript uses Lexical (Static) Scoping"})}),"\n",(0,s.jsx)(n.p,{children:"This means:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Scope is determined at ",(0,s.jsx)(n.strong,{children:"write time"})]}),"\n",(0,s.jsxs)(n.li,{children:["Not at ",(0,s.jsx)(n.strong,{children:"call time"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"example-2",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const a = 10;\n\nfunction outer() {\n  const b = 20;\n\n  function inner() {\n    console.log(a, b);\n  }\n\n  inner();\n}\nouter();\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Scope Chain:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"inner"})," \u2192 ",(0,s.jsx)(n.code,{children:"outer"})," \u2192 ",(0,s.jsx)(n.code,{children:"global"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"a"})," found in global"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"b"})," found in outer"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u2714\ufe0f This chain is decided ",(0,s.jsx)(n.strong,{children:"before execution starts"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"block-scope-let--const",children:[(0,s.jsx)("a",{name:"block-scope"}),"Block Scope (let / const)"]}),"\n",(0,s.jsxs)(n.p,{children:["Each ",(0,s.jsx)(n.code,{children:"{}"})," creates a ",(0,s.jsx)(n.strong,{children:"block lexical environment"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"if (true) {\n  let x = 10;\n  const y = 20;\n}\nconsole.log(x); // \u274c ReferenceError\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Block Lexical Env:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u251c\u2500\u2500 x\n\u251c\u2500\u2500 y\n\u2514\u2500\u2500 outer \u2192 global\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u274c ",(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"var"})," ignores block scope."]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"scope-chain-variable-resolution",children:[(0,s.jsx)("a",{name:"scope-chain"}),"Scope Chain (Variable Resolution)"]}),"\n",(0,s.jsx)(n.p,{children:"When JS looks up a variable:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Current lexical environment"}),"\n",(0,s.jsx)(n.li,{children:"Parent lexical environment"}),"\n",(0,s.jsx)(n.li,{children:"Continue until global"}),"\n",(0,s.jsxs)(n.li,{children:["If not found \u2192 ",(0,s.jsx)(n.code,{children:"ReferenceError"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"example-3",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"let a = 1;\n\nfunction foo() {\n  let b = 2;\n\n  function bar() {\n    let c = 3;\n    console.log(a, b, c);\n  }\n  bar();\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Lookup order in ",(0,s.jsx)(n.code,{children:"bar()"}),":"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"c"})," \u2192 bar"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"b"})," \u2192 foo"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"a"})," \u2192 global"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"3-the-big-picture-how-they-work-together",children:[(0,s.jsx)("a",{name:"big-picture"}),"3. The Big Picture: How They Work Together"]}),"\n",(0,s.jsx)(n.h3,{id:"execution-context-vs-lexical-environment",children:"Execution Context vs Lexical Environment"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Execution Context"}),(0,s.jsx)(n.th,{children:"Lexical Environment"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["Created at ",(0,s.jsx)(n.strong,{children:"runtime"})]}),(0,s.jsxs)(n.td,{children:["Defined by ",(0,s.jsx)(n.strong,{children:"code structure"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["Manages ",(0,s.jsx)(n.strong,{children:"execution"})]}),(0,s.jsxs)(n.td,{children:["Manages ",(0,s.jsx)(n.strong,{children:"scope"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["Pushed to ",(0,s.jsx)(n.strong,{children:"call stack"})]}),(0,s.jsxs)(n.td,{children:["Linked via ",(0,s.jsx)(n.strong,{children:"outer references"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Destroyed after execution"}),(0,s.jsxs)(n.td,{children:["May ",(0,s.jsx)(n.strong,{children:"survive"})," (closures)"]})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\ud83d\udc49 Execution context contains a reference to its lexical environment"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"complete-mental-model",children:"Complete Mental Model"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Execution Context               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Lexical Environment          \u2502  \u2502\n\u2502  \u2502  \u251c\u2500\u2500 Environment Record       \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500 Outer Reference          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  \u251c\u2500\u2500 this binding                   \u2502\n\u2502  \u2514\u2500\u2500 Variable Environment           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"4-closures-explained",children:[(0,s.jsx)("a",{name:"closures"}),"4. Closures Explained"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Definition:"}),"\nClosure = function + its lexical environment"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function counter() {\n  let count = 0;\n  return () => {\n    count++;\n    return count;\n  };\n}\n\nconst inc = counter();\ninc(); // 1\ninc(); // 2\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Why does ",(0,s.jsx)(n.code,{children:"count"})," survive?"]})}),"\n",(0,s.jsx)(n.p,{children:"Because:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Execution context of ",(0,s.jsx)(n.code,{children:"counter()"})," is destroyed"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Lexical environment is retained"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"inc"})," holds reference to it"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"5-interview-traps--edge-cases",children:[(0,s.jsx)("a",{name:"traps"}),"5. Interview Traps & Edge Cases"]}),"\n",(0,s.jsx)(n.h3,{id:"\ufe0f-trap-1-lexical--dynamic",children:"\u26a0\ufe0f Trap 1: Lexical \u2260 Dynamic"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function foo() {\n  console.log(x);\n}\n\nfunction bar() {\n  let x = 10;\n  foo();\n}\n\nlet x = 5;\nbar(); // 5 \u274c Not 10\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u2714\ufe0f ",(0,s.jsx)(n.strong,{children:"Lexical scope, not call-site scope"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\ufe0f-trap-2-var-vs-let-in-loops",children:"\u26a0\ufe0f Trap 2: var vs let in loops"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"for (var i = 0; i < 3; i++) {\n  setTimeout(() => console.log(i), 0);\n}\n// \ud83d\udc49 Single lexical environment \u2192 3 3 3\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"for (let i = 0; i < 3; i++) {\n  setTimeout(() => console.log(i), 0);\n}\n// \ud83d\udc49 New lexical environment per iteration \u2192 0 1 2\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\ufe0f-trap-3-are-let-and-const-hoisted",children:"\u26a0\ufe0f Trap 3: Are let and const hoisted?"}),"\n",(0,s.jsxs)(n.p,{children:["\u2714\ufe0f ",(0,s.jsx)(n.strong,{children:"Yes"}),"\n\u274c But not initialized \u2192 ",(0,s.jsx)(n.strong,{children:"Temporal Dead Zone"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"console.log(a); // \u274c ReferenceError: Cannot access 'a' before initialization\nlet a = 10;\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\ufe0f-trap-4-does-arrow-function-have-its-own-execution-context",children:"\u26a0\ufe0f Trap 4: Does arrow function have its own execution context?"}),"\n",(0,s.jsxs)(n.p,{children:["\u2714\ufe0f Execution context exists\n\u274c No ",(0,s.jsx)(n.code,{children:"arguments"})," object\n\u274c No own ",(0,s.jsx)(n.code,{children:"this"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"6-quick-reference-tables",children:[(0,s.jsx)("a",{name:"tables"}),"6. Quick Reference Tables"]}),"\n",(0,s.jsx)(n.h3,{id:"hoisting-behavior",children:"Hoisting Behavior"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Hoisted?"}),(0,s.jsx)(n.th,{children:"Initialized?"}),(0,s.jsx)(n.th,{children:"TDZ?"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"var"})}),(0,s.jsx)(n.td,{children:"\u2714\ufe0f Yes"}),(0,s.jsxs)(n.td,{children:["\u2714\ufe0f ",(0,s.jsx)(n.code,{children:"undefined"})]}),(0,s.jsx)(n.td,{children:"\u274c No"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"let"})}),(0,s.jsx)(n.td,{children:"\u2714\ufe0f Yes"}),(0,s.jsx)(n.td,{children:"\u274c No"}),(0,s.jsx)(n.td,{children:"\u2714\ufe0f Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"const"})}),(0,s.jsx)(n.td,{children:"\u2714\ufe0f Yes"}),(0,s.jsx)(n.td,{children:"\u274c No"}),(0,s.jsx)(n.td,{children:"\u2714\ufe0f Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"function"})}),(0,s.jsx)(n.td,{children:"\u2714\ufe0f Yes"}),(0,s.jsx)(n.td,{children:"\u2714\ufe0f Full definition"}),(0,s.jsx)(n.td,{children:"\u274c No"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"scope-types",children:"Scope Types"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Scope Type"}),(0,s.jsx)(n.th,{children:"Created By"}),(0,s.jsx)(n.th,{children:"Variables"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Global"}),(0,s.jsx)(n.td,{children:"Program start"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"var"}),", ",(0,s.jsx)(n.code,{children:"let"}),", ",(0,s.jsx)(n.code,{children:"const"}),", ",(0,s.jsx)(n.code,{children:"function"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Function"}),(0,s.jsx)(n.td,{children:"Function call"}),(0,s.jsx)(n.td,{children:"Local variables, parameters"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Block"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"{}"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"let"}),", ",(0,s.jsx)(n.code,{children:"const"})," only"]})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"7-one-liners-to-memorize",children:[(0,s.jsx)("a",{name:"memorize"}),"7. One-Liners to Memorize"]}),"\n",(0,s.jsx)(n.h3,{id:"execution-context",children:"Execution Context"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Execution Context"})," is the runtime environment where JavaScript code runs. The global execution context is created first, and every function invocation creates its own execution context, all managed via the call stack."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"lexical-environment",children:"Lexical Environment"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Lexical Environment"})," defines where variables live based on code structure, and JavaScript resolves variables using a scope chain formed via outer lexical references. Closures work because functions retain access to their defining lexical environment."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"the-connection",children:"The Connection"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Every execution context has a reference to a lexical environment. Execution contexts manage runtime flow; lexical environments manage scope and variable access."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"common-microsoftgoogle-follow-up-questions",children:"Common Microsoft/Google Follow-up Questions"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Difference between Scope chain vs Call stack?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Call stack = execution order (runtime)"}),"\n",(0,s.jsx)(n.li,{children:"Scope chain = variable lookup (code structure)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"How closures cause memory leaks?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Retained lexical environments aren't garbage collected"}),"\n",(0,s.jsx)(n.li,{children:"If large objects are in outer scope, they persist"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Lexical environment vs Context object?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Lexical env = scope structure"}),"\n",(0,s.jsxs)(n.li,{children:["Context object = ",(0,s.jsx)(n.code,{children:"this"})," value"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["How ",(0,s.jsx)(n.code,{children:"this"})," differs from lexical scope?"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"this"})," is dynamic (call-site dependent)"]}),"\n",(0,s.jsx)(n.li,{children:"Lexical scope is static (write-time dependent)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"End of Guide"})," | Bookmark this for interviews \ud83d\ude80"]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var s=i(96540);const l={},c=s.createContext(l);function r(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);