"use strict";(self.webpackChunkdev_enigma=self.webpackChunkdev_enigma||[]).push([[86458],{28453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>i});var t=n(96540);const s={},a=t.createContext(s);function o(e){const r=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(a.Provider,{value:r},e.children)}},46150:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var t=n(74848),s=n(28453);const a={},o="JavaScript Meta Programming Guide",i={id:"Interview Prep 2026/JavaScript Meta Programming Guide",title:"JavaScript Meta Programming Guide",description:"Table of Contents",source:"@site/docs/08-Interview Prep 2026/JavaScript Meta Programming Guide.mdx",sourceDirName:"08-Interview Prep 2026",slug:"/Interview Prep 2026/JavaScript Meta Programming Guide",permalink:"/docs/Interview Prep 2026/JavaScript Meta Programming Guide",draft:!1,unlisted:!1,editUrl:"https://github.com/carefree-ladka/docs/08-Interview Prep 2026/JavaScript Meta Programming Guide.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"JavaScript Memory Management Guide",permalink:"/docs/Interview Prep 2026/JavaScript Memory Management Guide"},next:{title:"JavaScript Promises & Event Loop - Tricky Questions",permalink:"/docs/Interview Prep 2026/JavaScript Promises & Event Loop - Tricky Questions"}},l={},c=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Proxies",id:"proxies",level:2},{value:"What are Proxies?",id:"what-are-proxies",level:3},{value:"Basic Example",id:"basic-example",level:3},{value:"Terminology",id:"terminology",level:3},{value:"handler",id:"handler",level:4},{value:"traps",id:"traps",level:4},{value:"target",id:"target",level:4},{value:"invariants",id:"invariants",level:4},{value:"Handlers and Traps",id:"handlers-and-traps",level:2},{value:"Available Traps",id:"available-traps",level:3},{value:"Trap Examples",id:"trap-examples",level:3},{value:"get trap",id:"get-trap",level:4},{value:"set trap",id:"set-trap",level:4},{value:"has trap",id:"has-trap",level:4},{value:"deleteProperty trap",id:"deleteproperty-trap",level:4},{value:"apply trap",id:"apply-trap",level:4},{value:"construct trap",id:"construct-trap",level:4},{value:"Revocable Proxy",id:"revocable-proxy",level:2},{value:"Reflection",id:"reflection",level:2},{value:"What is Reflect?",id:"what-is-reflect",level:3},{value:"Reflect Methods",id:"reflect-methods",level:3},{value:"Benefits of Reflect",id:"benefits-of-reflect",level:3},{value:"1. Functional approach to operators",id:"1-functional-approach-to-operators",level:4},{value:"2. Better apply() function",id:"2-better-apply-function",level:4},{value:"3. Boolean return values instead of exceptions",id:"3-boolean-return-values-instead-of-exceptions",level:4},{value:"4. Proper this binding in proxy traps",id:"4-proper-this-binding-in-proxy-traps",level:4},{value:"Practical Use Cases",id:"practical-use-cases",level:2},{value:"Validation",id:"validation",level:3},{value:"Default Values",id:"default-values",level:3},{value:"Logging and Debugging",id:"logging-and-debugging",level:3},{value:"Data Binding",id:"data-binding",level:3},{value:"Negative Array Indices",id:"negative-array-indices",level:3},{value:"Private Properties",id:"private-properties",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Always use Reflect in traps",id:"1-always-use-reflect-in-traps",level:3},{value:"2. Return appropriate values",id:"2-return-appropriate-values",level:3},{value:"3. Respect invariants",id:"3-respect-invariants",level:3},{value:"4. Performance considerations",id:"4-performance-considerations",level:3},{value:"5. Use revocable proxies for temporary access",id:"5-use-revocable-proxies-for-temporary-access",level:3},{value:"6. Document proxy behavior",id:"6-document-proxy-behavior",level:3},{value:"Additional Resources",id:"additional-resources",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"javascript-meta-programming-guide",children:"JavaScript Meta Programming Guide"})}),"\n",(0,t.jsx)(r.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#introduction",children:"Introduction"})}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#proxies",children:"Proxies"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#what-are-proxies",children:"What are Proxies?"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#basic-example",children:"Basic Example"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#terminology",children:"Terminology"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#handlers-and-traps",children:"Handlers and Traps"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#available-traps",children:"Available Traps"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#trap-examples",children:"Trap Examples"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#revocable-proxy",children:"Revocable Proxy"})}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#reflection",children:"Reflection"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#what-is-reflect",children:"What is Reflect?"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#reflect-methods",children:"Reflect Methods"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#benefits-of-reflect",children:"Benefits of Reflect"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"#practical-use-cases",children:"Practical Use Cases"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#validation",children:"Validation"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#default-values",children:"Default Values"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#logging-and-debugging",children:"Logging and Debugging"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#data-binding",children:"Data Binding"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"#best-practices",children:"Best Practices"})}),"\n"]}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(r.p,{children:["The ",(0,t.jsx)(r.code,{children:"Proxy"})," and ",(0,t.jsx)(r.code,{children:"Reflect"})," objects allow you to intercept and define custom behavior for fundamental language operations (e.g., property lookup, assignment, enumeration, function invocation, etc.). With these two objects, you can program at the ",(0,t.jsx)(r.strong,{children:"meta level"})," of JavaScript."]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Meta programming"})," enables you to:"]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Intercept and customize fundamental operations"}),"\n",(0,t.jsx)(r.li,{children:"Create virtual properties"}),"\n",(0,t.jsx)(r.li,{children:"Implement validation logic"}),"\n",(0,t.jsx)(r.li,{children:"Add logging and debugging capabilities"}),"\n",(0,t.jsx)(r.li,{children:"Build reactive data systems"}),"\n"]}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"proxies",children:"Proxies"}),"\n",(0,t.jsx)(r.h3,{id:"what-are-proxies",children:"What are Proxies?"}),"\n",(0,t.jsx)(r.p,{children:"Proxy objects allow you to intercept certain operations and implement custom behaviors. A proxy wraps another object and intercepts operations like reading/writing properties, function calls, and more."}),"\n",(0,t.jsx)(r.h3,{id:"basic-example",children:"Basic Example"}),"\n",(0,t.jsx)(r.p,{children:"Getting a property on an object:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const handler = {\n  get(target, name) {\n    return name in target ? target[name] : 42;\n  },\n};\n\nconst p = new Proxy({}, handler);\np.a = 1;\nconsole.log(p.a, p.b); // 1, 42\n"})}),"\n",(0,t.jsx)(r.p,{children:"In this example:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["The Proxy object defines a ",(0,t.jsx)(r.strong,{children:"target"})," (an empty object) and a ",(0,t.jsx)(r.strong,{children:"handler"})," object"]}),"\n",(0,t.jsxs)(r.li,{children:["The handler implements a ",(0,t.jsx)(r.code,{children:"get"})," trap"]}),"\n",(0,t.jsxs)(r.li,{children:["When accessing an undefined property, instead of returning ",(0,t.jsx)(r.code,{children:"undefined"}),", it returns ",(0,t.jsx)(r.code,{children:"42"})]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"terminology",children:"Terminology"}),"\n",(0,t.jsx)(r.h4,{id:"handler",children:"handler"}),"\n",(0,t.jsx)(r.p,{children:"A placeholder object which contains traps."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const handler = {\n  get(target, prop) { /* ... */ },\n  set(target, prop, value) { /* ... */ }\n};\n"})}),"\n",(0,t.jsx)(r.h4,{id:"traps",children:"traps"}),"\n",(0,t.jsx)(r.p,{children:"The methods that provide property access. This is analogous to the concept of traps in operating systems."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"// 'get' is a trap\nget(target, property, receiver) {\n  // Custom behavior\n}\n"})}),"\n",(0,t.jsx)(r.h4,{id:"target",children:"target"}),"\n",(0,t.jsx)(r.p,{children:"The object which the proxy virtualizes. It is often used as storage backend for the proxy."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'const target = { message: "Hello" };\nconst proxy = new Proxy(target, handler);\n'})}),"\n",(0,t.jsx)(r.h4,{id:"invariants",children:"invariants"}),"\n",(0,t.jsxs)(r.p,{children:["Semantics that remain unchanged when implementing custom operations. If you violate the invariants of a handler, a ",(0,t.jsx)(r.code,{children:"TypeError"})," will be thrown."]}),"\n",(0,t.jsxs)(r.p,{children:["Example invariant: A non-configurable property cannot be reported as non-existent by the ",(0,t.jsx)(r.code,{children:"get"})," trap."]}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"handlers-and-traps",children:"Handlers and Traps"}),"\n",(0,t.jsx)(r.h3,{id:"available-traps",children:"Available Traps"}),"\n",(0,t.jsx)(r.p,{children:"The following table summarizes all available traps for Proxy objects:"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Handler / Trap"}),(0,t.jsx)(r.th,{children:"Interceptions"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.getPrototypeOf()"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"Object.getPrototypeOf()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.getPrototypeOf()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"__proto__"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Object.prototype.isPrototypeOf()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"instanceof"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.setPrototypeOf()"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"Object.setPrototypeOf()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.setPrototypeOf()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.isExtensible()"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"Object.isExtensible()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.isExtensible()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.preventExtensions()"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"Object.preventExtensions()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.preventExtensions()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.getOwnPropertyDescriptor()"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"Object.getOwnPropertyDescriptor()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.getOwnPropertyDescriptor()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.defineProperty()"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"Object.defineProperty()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.defineProperty()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.has()"})}),(0,t.jsxs)(r.td,{children:["Property query: ",(0,t.jsx)(r.code,{children:"foo in proxy"}),(0,t.jsx)("br",{}),"Inherited property query: ",(0,t.jsx)(r.code,{children:"foo in Object.create(proxy)"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.has()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.get()"})}),(0,t.jsxs)(r.td,{children:["Property access: ",(0,t.jsx)(r.code,{children:"proxy[foo]"}),", ",(0,t.jsx)(r.code,{children:"proxy.bar"}),(0,t.jsx)("br",{}),"Inherited property access: ",(0,t.jsx)(r.code,{children:"Object.create(proxy)[foo]"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.get()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.set()"})}),(0,t.jsxs)(r.td,{children:["Property assignment: ",(0,t.jsx)(r.code,{children:"proxy[foo] = bar"}),", ",(0,t.jsx)(r.code,{children:"proxy.foo = bar"}),(0,t.jsx)("br",{}),"Inherited property assignment: ",(0,t.jsx)(r.code,{children:"Object.create(proxy)[foo] = bar"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.set()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.deleteProperty()"})}),(0,t.jsxs)(r.td,{children:["Property deletion: ",(0,t.jsx)(r.code,{children:"delete proxy[foo]"}),", ",(0,t.jsx)(r.code,{children:"delete proxy.foo"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.deleteProperty()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.ownKeys()"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"Object.getOwnPropertyNames()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Object.getOwnPropertySymbols()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Object.keys()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.ownKeys()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.apply()"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"proxy(..args)"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Function.prototype.apply()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Function.prototype.call()"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.apply()"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.strong,{children:"handler.construct()"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"new proxy(...args)"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.code,{children:"Reflect.construct()"})]})]})]})]}),"\n",(0,t.jsx)(r.h3,{id:"trap-examples",children:"Trap Examples"}),"\n",(0,t.jsx)(r.h4,{id:"get-trap",children:"get trap"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'const handler = {\n  get(target, prop, receiver) {\n    console.log(`Property ${prop} was accessed`);\n    return Reflect.get(target, prop, receiver);\n  }\n};\n\nconst proxy = new Proxy({ name: "John" }, handler);\nconsole.log(proxy.name); // Logs: "Property name was accessed", then "John"\n'})}),"\n",(0,t.jsx)(r.h4,{id:"set-trap",children:"set trap"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const handler = {\n  set(target, prop, value, receiver) {\n    if (prop === 'age' && typeof value !== 'number') {\n      throw new TypeError('Age must be a number');\n    }\n    return Reflect.set(target, prop, value, receiver);\n  }\n};\n\nconst proxy = new Proxy({}, handler);\nproxy.age = 25;     // Works\nproxy.age = \"25\";   // Throws TypeError\n"})}),"\n",(0,t.jsx)(r.h4,{id:"has-trap",children:"has trap"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const handler = {\n  has(target, prop) {\n    if (prop.startsWith('_')) {\n      return false; // Hide private properties\n    }\n    return Reflect.has(target, prop);\n  }\n};\n\nconst proxy = new Proxy({ _secret: 'hidden', public: 'visible' }, handler);\nconsole.log('public' in proxy);  // true\nconsole.log('_secret' in proxy); // false\n"})}),"\n",(0,t.jsx)(r.h4,{id:"deleteproperty-trap",children:"deleteProperty trap"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const handler = {\n  deleteProperty(target, prop) {\n    if (prop.startsWith('_')) {\n      throw new Error('Cannot delete private properties');\n    }\n    return Reflect.deleteProperty(target, prop);\n  }\n};\n\nconst proxy = new Proxy({ _id: 1, name: 'John' }, handler);\ndelete proxy.name;  // Works\ndelete proxy._id;   // Throws Error\n"})}),"\n",(0,t.jsx)(r.h4,{id:"apply-trap",children:"apply trap"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'const handler = {\n  apply(target, thisArg, argumentsList) {\n    console.log(`Function called with args: ${argumentsList}`);\n    return Reflect.apply(target, thisArg, argumentsList);\n  }\n};\n\nconst sum = (a, b) => a + b;\nconst proxy = new Proxy(sum, handler);\nproxy(2, 3); // Logs: "Function called with args: 2,3", Returns: 5\n'})}),"\n",(0,t.jsx)(r.h4,{id:"construct-trap",children:"construct trap"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const handler = {\n  construct(target, args, newTarget) {\n    console.log(`Constructor called with args: ${args}`);\n    return Reflect.construct(target, args, newTarget);\n  }\n};\n\nclass Person {\n  constructor(name) {\n    this.name = name;\n  }\n}\n\nconst ProxyPerson = new Proxy(Person, handler);\nconst john = new ProxyPerson('John'); // Logs: \"Constructor called with args: John\"\n"})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"revocable-proxy",children:"Revocable Proxy"}),"\n",(0,t.jsxs)(r.p,{children:["The ",(0,t.jsx)(r.code,{children:"Proxy.revocable()"})," method creates a revocable Proxy object. This means the proxy can be revoked via the ",(0,t.jsx)(r.code,{children:"revoke"})," function, which switches the proxy off."]}),"\n",(0,t.jsxs)(r.p,{children:["After revocation, any operation on the proxy leads to a ",(0,t.jsx)(r.code,{children:"TypeError"}),"."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const revocable = Proxy.revocable(\n  {},\n  {\n    get(target, name) {\n      return `[[${name}]]`;\n    },\n  },\n);\n\nconst proxy = revocable.proxy;\nconsole.log(proxy.foo); // \"[[foo]]\"\n\n// Revoke the proxy\nrevocable.revoke();\n\nconsole.log(proxy.foo); // TypeError: Cannot perform 'get' on a proxy that has been revoked\nproxy.foo = 1;          // TypeError: Cannot perform 'set' on a proxy that has been revoked\ndelete proxy.foo;       // TypeError: Cannot perform 'deleteProperty' on a proxy that has been revoked\nconsole.log(typeof proxy); // \"object\" - typeof doesn't trigger any trap\n"})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Use cases for revocable proxies:"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Temporary access control"}),"\n",(0,t.jsx)(r.li,{children:"Resource management"}),"\n",(0,t.jsx)(r.li,{children:"Security boundaries"}),"\n",(0,t.jsx)(r.li,{children:"Time-limited permissions"}),"\n"]}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"reflection",children:"Reflection"}),"\n",(0,t.jsx)(r.h3,{id:"what-is-reflect",children:"What is Reflect?"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"Reflect"})," is a built-in object that provides methods for interceptable JavaScript operations. The methods are the same as those of the proxy handler's traps."]}),"\n",(0,t.jsx)(r.p,{children:"Key characteristics:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"Reflect"})," is ",(0,t.jsx)(r.strong,{children:"not a function object"})," (cannot be called or constructed)"]}),"\n",(0,t.jsx)(r.li,{children:"It's a plain object containing static methods"}),"\n",(0,t.jsx)(r.li,{children:"Methods correspond one-to-one with proxy traps"}),"\n",(0,t.jsx)(r.li,{children:"Helps with forwarding default operations from handler to target"}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"reflect-methods",children:"Reflect Methods"}),"\n",(0,t.jsx)(r.p,{children:"All Reflect methods correspond to proxy traps:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"Reflect.get(target, propertyKey[, receiver])\nReflect.set(target, propertyKey, value[, receiver])\nReflect.has(target, propertyKey)\nReflect.deleteProperty(target, propertyKey)\nReflect.getPrototypeOf(target)\nReflect.setPrototypeOf(target, prototype)\nReflect.isExtensible(target)\nReflect.preventExtensions(target)\nReflect.getOwnPropertyDescriptor(target, propertyKey)\nReflect.defineProperty(target, propertyKey, attributes)\nReflect.ownKeys(target)\nReflect.apply(target, thisArgument, argumentsList)\nReflect.construct(target, argumentsList[, newTarget])\n"})}),"\n",(0,t.jsx)(r.h3,{id:"benefits-of-reflect",children:"Benefits of Reflect"}),"\n",(0,t.jsx)(r.h4,{id:"1-functional-approach-to-operators",children:"1. Functional approach to operators"}),"\n",(0,t.jsxs)(r.p,{children:["With ",(0,t.jsx)(r.code,{children:"Reflect.has()"}),", you get the ",(0,t.jsx)(r.code,{children:"in"})," operator as a function:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'Reflect.has(Object, "assign"); // true\n\n// Instead of:\n"assign" in Object; // true\n'})}),"\n",(0,t.jsx)(r.h4,{id:"2-better-apply-function",children:"2. Better apply() function"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Before Reflect:"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"Function.prototype.apply.call(Math.floor, undefined, [1.75]);\n"})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"With Reflect:"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'Reflect.apply(Math.floor, undefined, [1.75]); // 1\n\nReflect.apply(String.fromCharCode, undefined, [104, 101, 108, 108, 111]);\n// "hello"\n\nReflect.apply(RegExp.prototype.exec, /ab/, ["confabulation"]).index;\n// 4\n\nReflect.apply("".charAt, "ponies", [3]);\n// "i"\n'})}),"\n",(0,t.jsx)(r.h4,{id:"3-boolean-return-values-instead-of-exceptions",children:"3. Boolean return values instead of exceptions"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"With Object.defineProperty():"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"try {\n  Object.defineProperty(obj, 'prop', { value: 42 });\n  // Success\n} catch (e) {\n  // Failed\n}\n"})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"With Reflect.defineProperty():"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"if (Reflect.defineProperty(obj, 'prop', { value: 42 })) {\n  // Success\n} else {\n  // Failed\n}\n"})}),"\n",(0,t.jsx)(r.h4,{id:"4-proper-this-binding-in-proxy-traps",children:"4. Proper this binding in proxy traps"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const handler = {\n  get(target, prop, receiver) {\n    // receiver ensures correct 'this' binding\n    return Reflect.get(target, prop, receiver);\n  }\n};\n"})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"practical-use-cases",children:"Practical Use Cases"}),"\n",(0,t.jsx)(r.h3,{id:"validation",children:"Validation"}),"\n",(0,t.jsx)(r.p,{children:"Validate object properties before setting them:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const validator = {\n  set(target, prop, value) {\n    if (prop === 'age') {\n      if (!Number.isInteger(value)) {\n        throw new TypeError('Age must be an integer');\n      }\n      if (value < 0 || value > 150) {\n        throw new RangeError('Age must be between 0 and 150');\n      }\n    }\n    return Reflect.set(target, prop, value);\n  }\n};\n\nconst person = new Proxy({}, validator);\nperson.age = 25;    // Works\nperson.age = -5;    // Throws RangeError\nperson.age = \"25\";  // Throws TypeError\n"})}),"\n",(0,t.jsx)(r.h3,{id:"default-values",children:"Default Values"}),"\n",(0,t.jsx)(r.p,{children:"Provide default values for missing properties:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const withDefaults = (target, defaults) => {\n  return new Proxy(target, {\n    get(obj, prop) {\n      return prop in obj ? obj[prop] : defaults[prop];\n    }\n  });\n};\n\nconst settings = withDefaults(\n  { theme: 'dark' },\n  { theme: 'light', language: 'en', fontSize: 14 }\n);\n\nconsole.log(settings.theme);    // 'dark'\nconsole.log(settings.language); // 'en'\nconsole.log(settings.fontSize); // 14\n"})}),"\n",(0,t.jsx)(r.h3,{id:"logging-and-debugging",children:"Logging and Debugging"}),"\n",(0,t.jsx)(r.p,{children:"Track property access and modifications:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'const createLogger = (target, name) => {\n  return new Proxy(target, {\n    get(obj, prop) {\n      console.log(`[${name}] Getting property "${prop}"`);\n      return Reflect.get(obj, prop);\n    },\n    set(obj, prop, value) {\n      console.log(`[${name}] Setting property "${prop}" to "${value}"`);\n      return Reflect.set(obj, prop, value);\n    }\n  });\n};\n\nconst user = createLogger({ name: \'John\' }, \'User\');\nuser.name;        // Logs: [User] Getting property "name"\nuser.age = 30;    // Logs: [User] Setting property "age" to "30"\n'})}),"\n",(0,t.jsx)(r.h3,{id:"data-binding",children:"Data Binding"}),"\n",(0,t.jsx)(r.p,{children:"Create reactive data with automatic updates:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'const createReactive = (target, onChange) => {\n  return new Proxy(target, {\n    set(obj, prop, value) {\n      const oldValue = obj[prop];\n      const result = Reflect.set(obj, prop, value);\n      if (oldValue !== value) {\n        onChange(prop, oldValue, value);\n      }\n      return result;\n    }\n  });\n};\n\nconst state = createReactive(\n  { count: 0 },\n  (prop, oldVal, newVal) => {\n    console.log(`${prop} changed from ${oldVal} to ${newVal}`);\n  }\n);\n\nstate.count = 1;  // Logs: "count changed from 0 to 1"\nstate.count = 2;  // Logs: "count changed from 1 to 2"\n'})}),"\n",(0,t.jsx)(r.h3,{id:"negative-array-indices",children:"Negative Array Indices"}),"\n",(0,t.jsx)(r.p,{children:"Access arrays with negative indices (like Python):"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const createNegativeArray = (arr) => {\n  return new Proxy(arr, {\n    get(target, prop) {\n      const index = Number(prop);\n      if (Number.isInteger(index) && index < 0) {\n        return target[target.length + index];\n      }\n      return Reflect.get(target, prop);\n    }\n  });\n};\n\nconst arr = createNegativeArray([1, 2, 3, 4, 5]);\nconsole.log(arr[-1]); // 5\nconsole.log(arr[-2]); // 4\n"})}),"\n",(0,t.jsx)(r.h3,{id:"private-properties",children:"Private Properties"}),"\n",(0,t.jsx)(r.p,{children:"Hide properties that start with underscore:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const hidePrivate = (target) => {\n  return new Proxy(target, {\n    has(obj, prop) {\n      if (typeof prop === 'string' && prop.startsWith('_')) {\n        return false;\n      }\n      return Reflect.has(obj, prop);\n    },\n    ownKeys(obj) {\n      return Reflect.ownKeys(obj).filter(\n        key => typeof key !== 'string' || !key.startsWith('_')\n      );\n    },\n    get(obj, prop) {\n      if (typeof prop === 'string' && prop.startsWith('_')) {\n        throw new Error(`Cannot access private property: ${prop}`);\n      }\n      return Reflect.get(obj, prop);\n    }\n  });\n};\n\nconst obj = hidePrivate({ _secret: 'hidden', public: 'visible' });\nconsole.log('public' in obj);  // true\nconsole.log('_secret' in obj); // false\nconsole.log(Object.keys(obj)); // ['public']\n"})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(r.h3,{id:"1-always-use-reflect-in-traps",children:"1. Always use Reflect in traps"}),"\n",(0,t.jsxs)(r.p,{children:["Always use ",(0,t.jsx)(r.code,{children:"Reflect"})," methods to perform the default operation:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"// Good\nconst handler = {\n  get(target, prop, receiver) {\n    // Custom logic here\n    return Reflect.get(target, prop, receiver);\n  }\n};\n\n// Bad - manual implementation is error-prone\nconst handler = {\n  get(target, prop) {\n    return target[prop]; // Doesn't handle receiver correctly\n  }\n};\n"})}),"\n",(0,t.jsx)(r.h3,{id:"2-return-appropriate-values",children:"2. Return appropriate values"}),"\n",(0,t.jsx)(r.p,{children:"Ensure traps return the expected types:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"// set trap must return boolean\nset(target, prop, value) {\n  // ... validation logic\n  return Reflect.set(target, prop, value); // Returns boolean\n}\n\n// has trap must return boolean\nhas(target, prop) {\n  return Reflect.has(target, prop); // Returns boolean\n}\n"})}),"\n",(0,t.jsx)(r.h3,{id:"3-respect-invariants",children:"3. Respect invariants"}),"\n",(0,t.jsx)(r.p,{children:"Don't violate JavaScript's invariants or you'll get TypeErrors:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"// Bad - violates invariant\nconst handler = {\n  getPrototypeOf(target) {\n    return null; // If target is non-extensible, must return actual prototype\n  }\n};\n"})}),"\n",(0,t.jsx)(r.h3,{id:"4-performance-considerations",children:"4. Performance considerations"}),"\n",(0,t.jsx)(r.p,{children:"Proxies add overhead. Use them judiciously:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"// Don't wrap frequently accessed objects unnecessarily\n// Only use proxies when you need interception\n\n// Good - proxy for validation\nconst validatedUser = new Proxy(user, validator);\n\n// Bad - unnecessary proxy\nconst simpleObject = new Proxy({}, {}); // Just use {}\n"})}),"\n",(0,t.jsx)(r.h3,{id:"5-use-revocable-proxies-for-temporary-access",children:"5. Use revocable proxies for temporary access"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"const { proxy, revoke } = Proxy.revocable(sensitiveData, handler);\n\n// Give temporary access\ntemporaryFunction(proxy);\n\n// Revoke access when done\nrevoke();\n"})}),"\n",(0,t.jsx)(r.h3,{id:"6-document-proxy-behavior",children:"6. Document proxy behavior"}),"\n",(0,t.jsx)(r.p,{children:"Make it clear when objects are proxies:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"/**\n * Creates a validated user object\n * @returns {Proxy} A proxy that validates user properties\n */\nfunction createUser(data) {\n  return new Proxy(data, validationHandler);\n}\n"})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",children:"MDN Web Docs - Proxy"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",children:"MDN Web Docs - Reflect"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"https://tc39.es/ecma262/#sec-proxy-objects",children:"ECMAScript Proxy Specification"})}),"\n"]}),"\n",(0,t.jsx)(r.hr,{})]})}function p(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);