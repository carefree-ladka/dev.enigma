<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Backend System Design/Object Storage" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Object Storage | DevEnigma</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/js.enigma/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/js.enigma/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/js.enigma/docs/Backend System Design/Object Storage"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Object Storage | DevEnigma"><meta data-rh="true" name="description" content="Table of Contents"><meta data-rh="true" property="og:description" content="Table of Contents"><link data-rh="true" rel="icon" href="/js.enigma/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/js.enigma/docs/Backend System Design/Object Storage"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/js.enigma/docs/Backend System Design/Object Storage" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/js.enigma/docs/Backend System Design/Object Storage" hreflang="x-default"><link rel="stylesheet" href="/js.enigma/assets/css/styles.2c22e1c5.css">
<script src="/js.enigma/assets/js/runtime~main.eeb6c5b3.js" defer="defer"></script>
<script src="/js.enigma/assets/js/main.bc9c7a8b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/js.enigma/"><div class="navbar__logo"><img src="/js.enigma/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/js.enigma/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JSEnigma</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/js.enigma/docs/intro">Learning</a></div><div class="navbar__items navbar__items--right"><a href="https://www.linkedin.com/in/kumpawan/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/js.enigma/docs/intro">JSEnigma | Learn &amp; Practice</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/college-revision">College Revision</a><button aria-label="Expand sidebar category &#x27;College Revision&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/web-development">Web Development</a><button aria-label="Expand sidebar category &#x27;Web Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/data-structures--algorithms">Data Structures &amp; Algorithms</a><button aria-label="Expand sidebar category &#x27;Data Structures &amp; Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/frontend-system-design">Frontend System Design</a><button aria-label="Expand sidebar category &#x27;Frontend System Design&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/company-specific">Company Specific</a><button aria-label="Expand sidebar category &#x27;Company Specific&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/tips--tricks">Tips &amp; Tricks</a><button aria-label="Expand sidebar category &#x27;Tips &amp; Tricks&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/js.enigma/docs/category/backend-system-design">Backend System Design</a><button aria-label="Collapse sidebar category &#x27;Backend System Design&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/Apache Kafka - System Design Interview Guide">Apache Kafka - System Design Interview Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/Back-of-the-Envelope Calculations">Back-of-the-Envelope Calculations for System Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/Backend System Design Template">Backend System Design Template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/Caching Strategies">Caching Strategies for System Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/Complete System Design Study Guide">Complete System Design Study Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/Database Systems Comparison">Database Systems Comparison</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/Distributed Systems: The Complete Guide">Distributed Systems: The Complete Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/Instagram System Design">Instagram System Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/Latency vs Throughput">Latency vs Throughput</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/js.enigma/docs/Backend System Design/Object Storage">Object Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/Rate Limiter System Design">Rate Limiter System Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/System Design Concepts">System Design Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/System Design Tools: Monitoring, Security &amp; Testing">System Design Tools: Monitoring, Security &amp; Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js.enigma/docs/Backend System Design/URL Shortener System Design">URL Shortener System Design</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/database">Database</a><button aria-label="Expand sidebar category &#x27;Database&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/node--expressjs">Node &amp; Express.js</a><button aria-label="Expand sidebar category &#x27;Node &amp; Express.js&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/java-tutorial">Java Tutorial</a><button aria-label="Expand sidebar category &#x27;Java Tutorial&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/low-level-design">Low Level Design</a><button aria-label="Expand sidebar category &#x27;Low Level Design&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/js.enigma/docs/category/high-level-designs">High Level Designs</a><button aria-label="Expand sidebar category &#x27;High Level Designs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/js.enigma/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/js.enigma/docs/category/backend-system-design"><span itemprop="name">Backend System Design</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Object Storage</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Object Storage</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents">​</a></h2>
<ul>
<li><a href="#what-is-object-storage">What is Object Storage</a></li>
<li><a href="#why-not-traditional-databases">Why Not Traditional Databases</a></li>
<li><a href="#how-object-storage-works">How Object Storage Works</a></li>
<li><a href="#key-design-principles">Key Design Principles</a></li>
<li><a href="#system-design-best-practices">System Design Best Practices</a></li>
<li><a href="#pre-signed-urls">Pre-signed URLs</a></li>
<li><a href="#multi-part-upload">Multi-part Upload</a></li>
<li><a href="#popular-object-storage-services">Popular Object Storage Services</a></li>
<li><a href="#use-cases">Use Cases</a></li>
<li><a href="#interview-questions">Interview Questions</a></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-object-storage">What is Object Storage<a href="#what-is-object-storage" class="hash-link" aria-label="Direct link to What is Object Storage" title="Direct link to What is Object Storage">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="definition">Definition<a href="#definition" class="hash-link" aria-label="Direct link to Definition" title="Direct link to Definition">​</a></h3>
<p>Object Storage is a <strong>specialized storage architecture</strong> designed for managing large files, commonly referred to as <strong>Binary Large Objects (BLOBs)</strong>. While not technically a database, it functions as a database specifically optimized for storing and retrieving large, static files.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-qualifies-as-a-blob">What Qualifies as a BLOB?<a href="#what-qualifies-as-a-blob" class="hash-link" aria-label="Direct link to What Qualifies as a BLOB?" title="Direct link to What Qualifies as a BLOB?">​</a></h3>
<ul>
<li><strong>Images and Photos</strong>: Profile pictures, product images, thumbnails</li>
<li><strong>Videos</strong>: User-generated content, streaming media, recorded sessions</li>
<li><strong>Audio Files</strong>: Music, podcasts, voice recordings</li>
<li><strong>Documents</strong>: PDFs, presentations, large text files</li>
<li><strong>Data Files</strong>: JSON exports, CSV files, log files</li>
<li><strong>Static Assets</strong>: CSS, JavaScript, fonts, icons</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-characteristics">Core Characteristics<a href="#core-characteristics" class="hash-link" aria-label="Direct link to Core Characteristics" title="Direct link to Core Characteristics">​</a></h3>
<ul>
<li><strong>File-based Storage</strong>: Stores complete files as atomic units</li>
<li><strong>Flat Namespace</strong>: No hierarchical folder structure (despite UI appearances)</li>
<li><strong>Immutable</strong>: Files cannot be modified, only replaced or versioned</li>
<li><strong>Highly Durable</strong>: 99.999999999% (11 9&#x27;s) durability through redundancy</li>
<li><strong>Scalable</strong>: Handles petabytes of data across distributed infrastructure</li>
<li><strong>Cost-Effective</strong>: Optimized for storage costs rather than compute</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-not-traditional-databases">Why Not Traditional Databases<a href="#why-not-traditional-databases" class="hash-link" aria-label="Direct link to Why Not Traditional Databases" title="Direct link to Why Not Traditional Databases">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem-with-storing-blobs-in-relational-databases">The Problem with Storing BLOBs in Relational Databases<a href="#the-problem-with-storing-blobs-in-relational-databases" class="hash-link" aria-label="Direct link to The Problem with Storing BLOBs in Relational Databases" title="Direct link to The Problem with Storing BLOBs in Relational Databases">​</a></h3>
<p><strong>Storage Inefficiency</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PostgreSQL Example:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Packs data into 8KB pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 4MB image = 500 pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Massive overhead for simple queries</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-impact">Performance Impact<a href="#performance-impact" class="hash-link" aria-label="Direct link to Performance Impact" title="Direct link to Performance Impact">​</a></h3>
<p><strong>Query Performance Degradation</strong>:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Simple query becomes expensive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TOP</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"> users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> users</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Database must manage megabytes of image data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Even when you only need user metadata</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Issues Created</strong>:</p>
<ul>
<li><strong>Memory Pressure</strong>: Large files consume excessive RAM</li>
<li><strong>Slow Queries</strong>: Simple operations become resource-intensive</li>
<li><strong>Cache Pollution</strong>: BLOBs fill up database cache inefficiently</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="replication-problems">Replication Problems<a href="#replication-problems" class="hash-link" aria-label="Direct link to Replication Problems" title="Direct link to Replication Problems">​</a></h3>
<p><strong>Bandwidth Consumption</strong>:</p>
<ul>
<li>4MB image replicated to 3 database replicas = 12MB per write</li>
<li>Massive bandwidth usage</li>
<li>Increased replication lag</li>
<li>Higher infrastructure costs</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="backup-and-recovery-issues">Backup and Recovery Issues<a href="#backup-and-recovery-issues" class="hash-link" aria-label="Direct link to Backup and Recovery Issues" title="Direct link to Backup and Recovery Issues">​</a></h3>
<p><strong>Backup Bloat</strong>:</p>
<ul>
<li>Database backups include all BLOB data</li>
<li>What should be minutes becomes hours</li>
<li>Recovery time dramatically increased</li>
<li>Storage costs for backups skyrocket</li>
</ul>
<p><strong>Real-World Scenario</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Without Object Storage:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Database backup: 500GB (400GB are images)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Restore time: 8 hours</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">With Object Storage:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Database backup: 100GB (metadata only)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Restore time: 30 minutes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-object-storage-works">How Object Storage Works<a href="#how-object-storage-works" class="hash-link" aria-label="Direct link to How Object Storage Works" title="Direct link to How Object Storage Works">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-architecture">High-Level Architecture<a href="#high-level-architecture" class="hash-link" aria-label="Direct link to High-Level Architecture" title="Direct link to High-Level Architecture">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Client Request → Metadata Service → Storage Nodes → Stream Response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ↓               ↓                    ↓              ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;Get file1&quot;    Index Lookup        Server A      Direct streaming</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 &quot;File1 on Server A&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-components">Core Components<a href="#core-components" class="hash-link" aria-label="Direct link to Core Components" title="Direct link to Core Components">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-storage-nodes">1. Storage Nodes<a href="#1-storage-nodes" class="hash-link" aria-label="Direct link to 1. Storage Nodes" title="Direct link to 1. Storage Nodes">​</a></h4>
<ul>
<li><strong>Cheap commodity servers</strong> storing files on disk</li>
<li>Distributed across multiple racks and data centers</li>
<li>Optimized for throughput rather than low latency</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-metadata-service">2. Metadata Service<a href="#2-metadata-service" class="hash-link" aria-label="Direct link to 2. Metadata Service" title="Direct link to 2. Metadata Service">​</a></h4>
<ul>
<li><strong>Central index</strong> mapping file identifiers to storage locations</li>
<li>Fast lookup service (usually in-memory)</li>
<li>Handles routing and load balancing</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-redundancy-layer">3. Redundancy Layer<a href="#3-redundancy-layer" class="hash-link" aria-label="Direct link to 3. Redundancy Layer" title="Direct link to 3. Redundancy Layer">​</a></h4>
<ul>
<li>Files stored on <strong>multiple servers</strong> (typically 3+ copies)</li>
<li><strong>Erasure coding</strong> or <strong>full replication</strong></li>
<li>Automatic healing when nodes fail</li>
<li>Cross-datacenter replication for disaster recovery</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-flow">Request Flow<a href="#request-flow" class="hash-link" aria-label="Direct link to Request Flow" title="Direct link to Request Flow">​</a></h3>
<ol>
<li><strong>Client requests file</strong> by unique identifier</li>
<li><strong>Metadata service</strong> performs index lookup</li>
<li><strong>Storage location</strong> identified (e.g., Server A)</li>
<li><strong>Direct streaming</strong> from storage node to client</li>
<li><strong>Redundancy</strong> ensures availability if primary fails</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-design-principles">Key Design Principles<a href="#key-design-principles" class="hash-link" aria-label="Direct link to Key Design Principles" title="Direct link to Key Design Principles">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-flat-namespace">1. Flat Namespace<a href="#1-flat-namespace" class="hash-link" aria-label="Direct link to 1. Flat Namespace" title="Direct link to 1. Flat Namespace">​</a></h3>
<p><strong>Traditional File System</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/users/photos/2024/january/profile_pics/user123.jpg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Object Storage</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">user-photos-2024-01-user123.jpg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Benefits</strong>:</p>
<ul>
<li><strong>Direct lookup</strong> without tree traversal</li>
<li><strong>Faster access</strong> - O(1) instead of O(log n)</li>
<li><strong>Simpler implementation</strong> and maintenance</li>
<li><strong>UI sugar</strong> can simulate folders for user experience</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-immutable-writes">2. Immutable Writes<a href="#2-immutable-writes" class="hash-link" aria-label="Direct link to 2. Immutable Writes" title="Direct link to 2. Immutable Writes">​</a></h3>
<p><strong>Traditional Database</strong>: Update existing records</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> users </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> profile_image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;new_image.jpg&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Object Storage</strong>: Create new versions or overwrite</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PUT /bucket/user123-profile-v2.jpg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Advantages</strong>:</p>
<ul>
<li><strong>No locks required</strong> - eliminates race conditions</li>
<li><strong>Simpler concurrency</strong> model</li>
<li><strong>Version control</strong> capabilities</li>
<li><strong>Better performance</strong> without locking overhead</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-redundancy-and-durability">3. Redundancy and Durability<a href="#3-redundancy-and-durability" class="hash-link" aria-label="Direct link to 3. Redundancy and Durability" title="Direct link to 3. Redundancy and Durability">​</a></h3>
<p><strong>Replication Strategy</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">File &quot;user123.jpg&quot; exists on:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Server A (Primary)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Server B (Replica 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Server C (Replica 2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Server D (Cross-DC replica)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Durability Guarantees</strong>:</p>
<ul>
<li><strong>11 9&#x27;s durability</strong>: 99.999999999%</li>
<li><strong>Automatic failure recovery</strong></li>
<li><strong>Cross-datacenter redundancy</strong></li>
<li><strong>Background data integrity checks</strong></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-design-best-practices">System Design Best Practices<a href="#system-design-best-practices" class="hash-link" aria-label="Direct link to System Design Best Practices" title="Direct link to System Design Best Practices">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-hybrid-storage-pattern">1. Hybrid Storage Pattern<a href="#1-hybrid-storage-pattern" class="hash-link" aria-label="Direct link to 1. Hybrid Storage Pattern" title="Direct link to 1. Hybrid Storage Pattern">​</a></h3>
<p><strong>Correct Approach</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Database (PostgreSQL/MySQL):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─  ─ User metadata (ID, name, email, created_at)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Post metadata (ID, title, text, user_id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── File references (file_url, file_size, file_type)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Object Storage (S3):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Profile images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Post photos/videos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── User uploads</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example Schema</strong>:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Store metadata in database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> posts </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token keyword" style="color:#00009f">SERIAL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user_id </span><span class="token keyword" style="color:#00009f">INTEGER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    title </span><span class="token keyword" style="color:#00009f">VARCHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">255</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    content </span><span class="token keyword" style="color:#00009f">TEXT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image_url </span><span class="token keyword" style="color:#00009f">VARCHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Reference to S3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">TIMESTAMP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Files stored in S3: s3://bucket/posts/user123/post456.jpg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-common-architecture-pattern">2. Common Architecture Pattern<a href="#2-common-architecture-pattern" class="hash-link" aria-label="Direct link to 2. Common Architecture Pattern" title="Direct link to 2. Common Architecture Pattern">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Client → API Server → Database (metadata)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓                      ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   └── Object Storage ← File URL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Flow Example</strong>:</p>
<ol>
<li>Client requests social media feed</li>
<li>API server queries database for posts metadata</li>
<li>Database returns post data with S3 URLs</li>
<li>Client downloads images directly from S3</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-metadata-vs-file-storage">3. Metadata vs File Storage<a href="#3-metadata-vs-file-storage" class="hash-link" aria-label="Direct link to 3. Metadata vs File Storage" title="Direct link to 3. Metadata vs File Storage">​</a></h3>
<p><strong>Store in Database</strong>:</p>
<ul>
<li>File metadata (size, type, upload date)</li>
<li>User permissions and access controls</li>
<li>File relationships and associations</li>
<li>Search indices and tags</li>
</ul>
<p><strong>Store in Object Storage</strong>:</p>
<ul>
<li>Actual file bytes</li>
<li>Multiple file versions</li>
<li>Thumbnails and processed variants</li>
<li>Archive and backup copies</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pre-signed-urls">Pre-signed URLs<a href="#pre-signed-urls" class="hash-link" aria-label="Direct link to Pre-signed URLs" title="Direct link to Pre-signed URLs">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem">The Problem<a href="#the-problem" class="hash-link" aria-label="Direct link to The Problem" title="Direct link to The Problem">​</a></h3>
<p><strong>Inefficient File Upload</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Client → Server → Object Storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  4MB      4MB        4MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ↑         ↑          ↑</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bandwidth  Server     Final</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">consumed   load       destination</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-solution">The Solution<a href="#the-solution" class="hash-link" aria-label="Direct link to The Solution" title="Direct link to The Solution">​</a></h3>
<p><strong>Direct Upload with Pre-signed URLs</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. Client requests upload permission</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Client → Server: &quot;I want to upload user123.jpg&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Server requests pre-signed URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Server → S3: &quot;Give me upload URL for user123.jpg, valid 1 hour&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. S3 returns pre-signed URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   S3 → Server: &quot;https://bucket.s3.amazonaws.com/user123.jpg?signature=...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Client uploads directly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Client → S3: Direct upload using pre-signed URL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example">Implementation Example<a href="#implementation-example" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h3>
<p><strong>Server-side (generating pre-signed URL)</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Python example</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generate_upload_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> file_type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    presigned_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s3_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">generate_presigned_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;put_object&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Params</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;Bucket&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my-bucket&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;Key&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;ContentType&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> file_type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ExpiresIn</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3600</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 1 hour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> presigned_url</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Client-side (using pre-signed URL)</strong>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// JavaScript example</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">uploadFile</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">file</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> presignedUrl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">presignedUrl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;PUT&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">headers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string-property property" style="color:#36acaa">&#x27;Content-Type&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="benefits">Benefits<a href="#benefits" class="hash-link" aria-label="Direct link to Benefits" title="Direct link to Benefits">​</a></h3>
<ul>
<li><strong>Reduced server bandwidth</strong> - no proxy through application server</li>
<li><strong>Better scalability</strong> - server doesn&#x27;t handle large file processing</li>
<li><strong>Faster uploads</strong> - direct connection to object storage</li>
<li><strong>Security</strong> - temporary, scoped permissions</li>
<li><strong>Cost savings</strong> - reduced data transfer costs</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-part-upload">Multi-part Upload<a href="#multi-part-upload" class="hash-link" aria-label="Direct link to Multi-part Upload" title="Direct link to Multi-part Upload">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem-1">The Problem<a href="#the-problem-1" class="hash-link" aria-label="Direct link to The Problem" title="Direct link to The Problem">​</a></h3>
<p><strong>File Size Limitations</strong>:</p>
<ul>
<li>HTTP POST/PUT limits (typically 5MB for S3)</li>
<li>Browser upload limits</li>
<li>Gateway and proxy limitations</li>
<li>Network timeout constraints for large files</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-solution-1">The Solution<a href="#the-solution-1" class="hash-link" aria-label="Direct link to The Solution" title="Direct link to The Solution">​</a></h3>
<p><strong>Chunked Upload Process</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Large File (1GB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Split into chunks (5MB each)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Upload chunks in parallel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Object storage reassembles</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-part-upload-flow">Multi-part Upload Flow<a href="#multi-part-upload-flow" class="hash-link" aria-label="Direct link to Multi-part Upload Flow" title="Direct link to Multi-part Upload Flow">​</a></h3>
<ol>
<li>
<p><strong>Initiate Upload</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Client → S3: &quot;I want to upload 1GB file&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S3 → Client: &quot;Upload ID: abc123, use 5MB chunks&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Upload Chunks</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Chunk 1 (5MB) → S3 → Part 1 ETag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Chunk 2 (5MB) → S3 → Part 2 ETag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Chunk 3 (5MB) → S3 → Part 3 ETag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... (parallel uploads)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Chunk 200 (5MB) → S3 → Part 200 ETag</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Complete Upload</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Client → S3: &quot;Complete upload abc123 with parts [ETag1, ETag2, ...]&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S3 → Client: &quot;Upload complete, file assembled&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-benefits">Implementation Benefits<a href="#implementation-benefits" class="hash-link" aria-label="Direct link to Implementation Benefits" title="Direct link to Implementation Benefits">​</a></h3>
<ul>
<li><strong>Parallel uploads</strong> - faster overall transfer</li>
<li><strong>Resumable uploads</strong> - retry individual chunks on failure</li>
<li><strong>Better reliability</strong> - smaller chunks less likely to fail</li>
<li><strong>Progress tracking</strong> - granular upload progress</li>
<li><strong>Bandwidth optimization</strong> - can adjust chunk size</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-architecture">Example Architecture<a href="#example-architecture" class="hash-link" aria-label="Direct link to Example Architecture" title="Direct link to Example Architecture">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Client Application</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── File chunking logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Parallel upload management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Progress tracking</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── Error retry mechanism</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Object Storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Multi-part upload API</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Chunk validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Assembly service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── Cleanup of incomplete uploads</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="popular-object-storage-services">Popular Object Storage Services<a href="#popular-object-storage-services" class="hash-link" aria-label="Direct link to Popular Object Storage Services" title="Direct link to Popular Object Storage Services">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-s3-simple-storage-service">Amazon S3 (Simple Storage Service)<a href="#amazon-s3-simple-storage-service" class="hash-link" aria-label="Direct link to Amazon S3 (Simple Storage Service)" title="Direct link to Amazon S3 (Simple Storage Service)">​</a></h3>
<p><strong>Market Leader</strong>:</p>
<ul>
<li>Most widely used and documented</li>
<li><strong>Default choice</strong> for system design interviews</li>
<li>Extensive feature set and integrations</li>
<li>Global availability</li>
</ul>
<p><strong>Key Features</strong>:</p>
<ul>
<li>Pre-signed URLs for secure access</li>
<li>Multi-part upload (5MB chunk limit)</li>
<li>Storage classes for cost optimization</li>
<li>Cross-region replication</li>
<li>Event notifications</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="google-cloud-storage">Google Cloud Storage<a href="#google-cloud-storage" class="hash-link" aria-label="Direct link to Google Cloud Storage" title="Direct link to Google Cloud Storage">​</a></h3>
<p><strong>Google&#x27;s Offering</strong>:</p>
<ul>
<li>Similar features to S3</li>
<li>Strong integration with Google Cloud Platform</li>
<li>Competitive pricing</li>
<li>Multi-regional storage options</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="azure-blob-storage">Azure Blob Storage<a href="#azure-blob-storage" class="hash-link" aria-label="Direct link to Azure Blob Storage" title="Direct link to Azure Blob Storage">​</a></h3>
<p><strong>Microsoft&#x27;s Solution</strong>:</p>
<ul>
<li>Integrated with Azure ecosystem</li>
<li>Hot, cool, and archive storage tiers</li>
<li>Strong enterprise adoption</li>
<li>Similar API patterns to competitors</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-features-across-all">Common Features Across All<a href="#common-features-across-all" class="hash-link" aria-label="Direct link to Common Features Across All" title="Direct link to Common Features Across All">​</a></h3>
<ul>
<li><strong>Pre-signed/Signed URLs</strong> for secure access</li>
<li><strong>Multi-part upload</strong> capabilities</li>
<li><strong>Versioning</strong> and lifecycle management</li>
<li><strong>Encryption</strong> at rest and in transit</li>
<li><strong>Access controls</strong> and permissions</li>
<li><strong>CDN integration</strong> for global distribution</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-social-media-and-content-platforms">1. Social Media and Content Platforms<a href="#1-social-media-and-content-platforms" class="hash-link" aria-label="Direct link to 1. Social Media and Content Platforms" title="Direct link to 1. Social Media and Content Platforms">​</a></h3>
<p><strong>Architecture Example</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">User Posts → Metadata in Database → Photos/Videos in S3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ↓                      ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Post feed API         Direct download URLs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Components</strong>:</p>
<ul>
<li>User-generated content (photos, videos)</li>
<li>Profile images and cover photos</li>
<li>Story content and highlights</li>
<li>Live streaming archives</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-collaborative-tools-and-file-sharing">2. Collaborative Tools and File Sharing<a href="#2-collaborative-tools-and-file-sharing" class="hash-link" aria-label="Direct link to 2. Collaborative Tools and File Sharing" title="Direct link to 2. Collaborative Tools and File Sharing">​</a></h3>
<p><strong>Examples</strong>:</p>
<ul>
<li><strong>Dropbox-like services</strong>: File storage and synchronization</li>
<li><strong>Design tools</strong>: Large design files and assets</li>
<li><strong>Document management</strong>: PDFs, presentations, spreadsheets</li>
</ul>
<p><strong>Pattern</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">File Upload → Pre-signed URL → Direct S3 Upload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">File Sharing → Signed URL → Direct S3 Download</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-web-application-assets">3. Web Application Assets<a href="#3-web-application-assets" class="hash-link" aria-label="Direct link to 3. Web Application Assets" title="Direct link to 3. Web Application Assets">​</a></h3>
<p><strong>Static Content Delivery</strong>:</p>
<ul>
<li>CSS and JavaScript files</li>
<li>Images and icons</li>
<li>Fonts and media assets</li>
<li>Usually fronted by CDN for global distribution</li>
</ul>
<p><strong>Architecture</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Web App → CDN → Object Storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Global edge locations</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-data-processing-and-analytics">4. Data Processing and Analytics<a href="#4-data-processing-and-analytics" class="hash-link" aria-label="Direct link to 4. Data Processing and Analytics" title="Direct link to 4. Data Processing and Analytics">​</a></h3>
<p><strong>Big Data Storage</strong>:</p>
<ul>
<li><strong>Log files</strong>: Application logs, server logs, audit trails</li>
<li><strong>ML training data</strong>: Large datasets for machine learning</li>
<li><strong>Data exports</strong>: Database dumps, report files</li>
<li><strong>Backup archives</strong>: System backups and snapshots</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-media-and-entertainment">5. Media and Entertainment<a href="#5-media-and-entertainment" class="hash-link" aria-label="Direct link to 5. Media and Entertainment" title="Direct link to 5. Media and Entertainment">​</a></h3>
<p><strong>Content Storage</strong>:</p>
<ul>
<li>Video streaming libraries</li>
<li>Music catalogs</li>
<li>Podcast archives</li>
<li>Image galleries</li>
<li>360-degree content and VR assets</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interview-questions">Interview Questions<a href="#interview-questions" class="hash-link" aria-label="Direct link to Interview Questions" title="Direct link to Interview Questions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-why-would-you-use-object-storage-instead-of-a-traditional-database-for-storing-images">1. &quot;Why would you use object storage instead of a traditional database for storing images?&quot;<a href="#1-why-would-you-use-object-storage-instead-of-a-traditional-database-for-storing-images" class="hash-link" aria-label="Direct link to 1. &quot;Why would you use object storage instead of a traditional database for storing images?&quot;" title="Direct link to 1. &quot;Why would you use object storage instead of a traditional database for storing images?&quot;">​</a></h3>
<p><strong>Answer Framework</strong>:</p>
<ul>
<li><strong>Performance</strong>: Traditional databases aren&#x27;t optimized for large files</li>
<li><strong>Scalability</strong>: Object storage scales horizontally with lower costs</li>
<li><strong>Efficiency</strong>: Reduces database backup size and replication overhead</li>
<li><strong>Specialization</strong>: Purpose-built for file storage with features like pre-signed URLs</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-how-would-you-design-a-photo-sharing-applications-storage-architecture">2. &quot;How would you design a photo-sharing application&#x27;s storage architecture?&quot;<a href="#2-how-would-you-design-a-photo-sharing-applications-storage-architecture" class="hash-link" aria-label="Direct link to 2. &quot;How would you design a photo-sharing application&#x27;s storage architecture?&quot;" title="Direct link to 2. &quot;How would you design a photo-sharing application&#x27;s storage architecture?&quot;">​</a></h3>
<p><strong>System Design Approach</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Users upload photos:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Client gets pre-signed URL from API server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Client uploads directly to S3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. API server stores metadata in database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Feed requests return metadata + S3 URLs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. Client downloads images directly from S3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Key Components</strong>:</p>
<ul>
<li>Database for post metadata and user data</li>
<li>S3 for actual image storage</li>
<li>CDN for global image delivery</li>
<li>Image processing service for thumbnails</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-what-are-pre-signed-urls-and-when-would-you-use-them">3. &quot;What are pre-signed URLs and when would you use them?&quot;<a href="#3-what-are-pre-signed-urls-and-when-would-you-use-them" class="hash-link" aria-label="Direct link to 3. &quot;What are pre-signed URLs and when would you use them?&quot;" title="Direct link to 3. &quot;What are pre-signed URLs and when would you use them?&quot;">​</a></h3>
<p><strong>Explanation</strong>:</p>
<ul>
<li><strong>Temporary URLs</strong> with embedded authentication</li>
<li><strong>Use cases</strong>: Secure uploads, private file access, reducing server load</li>
<li><strong>Benefits</strong>: Direct client-to-storage communication, better performance</li>
<li><strong>Security</strong>: Time-limited, scope-limited permissions</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-how-do-you-handle-uploading-very-large-files-1gb">4. &quot;How do you handle uploading very large files (&gt;1GB)?&quot;<a href="#4-how-do-you-handle-uploading-very-large-files-1gb" class="hash-link" aria-label="Direct link to 4. &quot;How do you handle uploading very large files (&gt;1GB)?&quot;" title="Direct link to 4. &quot;How do you handle uploading very large files (&gt;1GB)?&quot;">​</a></h3>
<p><strong>Multi-part Upload Strategy</strong>:</p>
<ul>
<li>Split large files into chunks (typically 5MB)</li>
<li>Upload chunks in parallel for better performance</li>
<li>Handle chunk failures independently</li>
<li>Reassemble on object storage side</li>
<li>Provide progress tracking and resumability</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-compare-object-storage-with-a-traditional-file-system">5. &quot;Compare object storage with a traditional file system&quot;<a href="#5-compare-object-storage-with-a-traditional-file-system" class="hash-link" aria-label="Direct link to 5. &quot;Compare object storage with a traditional file system&quot;" title="Direct link to 5. &quot;Compare object storage with a traditional file system&quot;">​</a></h3>
<p><strong>Key Differences</strong>:</p>
<table><thead><tr><th>Aspect</th><th>Object Storage</th><th>Traditional File System</th></tr></thead><tbody><tr><td><strong>Namespace</strong></td><td>Flat</td><td>Hierarchical</td></tr><tr><td><strong>Scalability</strong></td><td>Horizontal</td><td>Vertical</td></tr><tr><td><strong>Durability</strong></td><td>11 9&#x27;s with replication</td><td>Depends on RAID setup</td></tr><tr><td><strong>Access</strong></td><td>HTTP REST API</td><td>File system calls</td></tr><tr><td><strong>Consistency</strong></td><td>Eventually consistent</td><td>Strongly consistent</td></tr><tr><td><strong>Cost</strong></td><td>Pay per GB stored</td><td>Fixed infrastructure</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-how-would-you-implement-a-file-upload-feature-for-a-web-application">6. &quot;How would you implement a file upload feature for a web application?&quot;<a href="#6-how-would-you-implement-a-file-upload-feature-for-a-web-application" class="hash-link" aria-label="Direct link to 6. &quot;How would you implement a file upload feature for a web application?&quot;" title="Direct link to 6. &quot;How would you implement a file upload feature for a web application?&quot;">​</a></h3>
<p><strong>Implementation Steps</strong>:</p>
<ol>
<li><strong>Client requests upload</strong>: Send file metadata to server</li>
<li><strong>Server validation</strong>: Check file type, size, permissions</li>
<li><strong>Generate pre-signed URL</strong>: Request from S3 with expiration</li>
<li><strong>Direct upload</strong>: Client uploads to S3 using pre-signed URL</li>
<li><strong>Metadata storage</strong>: Server stores file reference in database</li>
<li><strong>Confirmation</strong>: Return success response with file URL</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7-what-are-the-trade-offs-of-using-object-storage">7. &quot;What are the trade-offs of using object storage?&quot;<a href="#7-what-are-the-trade-offs-of-using-object-storage" class="hash-link" aria-label="Direct link to 7. &quot;What are the trade-offs of using object storage?&quot;" title="Direct link to 7. &quot;What are the trade-offs of using object storage?&quot;">​</a></h3>
<p><strong>Advantages</strong>:</p>
<ul>
<li>Massive scalability and durability</li>
<li>Cost-effective for large files</li>
<li>Built-in redundancy</li>
<li>Global accessibility</li>
</ul>
<p><strong>Disadvantages</strong>:</p>
<ul>
<li>Eventually consistent (in some cases)</li>
<li>No file modification capabilities</li>
<li>API overhead for small operations</li>
<li>Network dependency for access</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-design-a-system-to-handle-1-million-image-uploads-per-day">8. &quot;Design a system to handle 1 million image uploads per day&quot;<a href="#8-design-a-system-to-handle-1-million-image-uploads-per-day" class="hash-link" aria-label="Direct link to 8. &quot;Design a system to handle 1 million image uploads per day&quot;" title="Direct link to 8. &quot;Design a system to handle 1 million image uploads per day&quot;">​</a></h3>
<p><strong>Architecture Considerations</strong>:</p>
<ul>
<li><strong>Load balancing</strong>: Distribute pre-signed URL requests</li>
<li><strong>Horizontal scaling</strong>: Multiple API servers</li>
<li><strong>Database optimization</strong>: Efficient metadata storage</li>
<li><strong>Monitoring</strong>: Track upload success rates and performance</li>
<li><strong>Error handling</strong>: Retry mechanisms and cleanup processes</li>
<li><strong>Security</strong>: Rate limiting and access controls</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/carefree-ladka/docs/Backend System Design/Object Storage.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/js.enigma/docs/Backend System Design/Latency vs Throughput"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Latency vs Throughput</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/js.enigma/docs/Backend System Design/Rate Limiter System Design"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rate Limiter System Design</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#what-is-object-storage" class="table-of-contents__link toc-highlight">What is Object Storage</a><ul><li><a href="#definition" class="table-of-contents__link toc-highlight">Definition</a></li><li><a href="#what-qualifies-as-a-blob" class="table-of-contents__link toc-highlight">What Qualifies as a BLOB?</a></li><li><a href="#core-characteristics" class="table-of-contents__link toc-highlight">Core Characteristics</a></li></ul></li><li><a href="#why-not-traditional-databases" class="table-of-contents__link toc-highlight">Why Not Traditional Databases</a><ul><li><a href="#the-problem-with-storing-blobs-in-relational-databases" class="table-of-contents__link toc-highlight">The Problem with Storing BLOBs in Relational Databases</a></li><li><a href="#performance-impact" class="table-of-contents__link toc-highlight">Performance Impact</a></li><li><a href="#replication-problems" class="table-of-contents__link toc-highlight">Replication Problems</a></li><li><a href="#backup-and-recovery-issues" class="table-of-contents__link toc-highlight">Backup and Recovery Issues</a></li></ul></li><li><a href="#how-object-storage-works" class="table-of-contents__link toc-highlight">How Object Storage Works</a><ul><li><a href="#high-level-architecture" class="table-of-contents__link toc-highlight">High-Level Architecture</a></li><li><a href="#core-components" class="table-of-contents__link toc-highlight">Core Components</a></li><li><a href="#request-flow" class="table-of-contents__link toc-highlight">Request Flow</a></li></ul></li><li><a href="#key-design-principles" class="table-of-contents__link toc-highlight">Key Design Principles</a><ul><li><a href="#1-flat-namespace" class="table-of-contents__link toc-highlight">1. Flat Namespace</a></li><li><a href="#2-immutable-writes" class="table-of-contents__link toc-highlight">2. Immutable Writes</a></li><li><a href="#3-redundancy-and-durability" class="table-of-contents__link toc-highlight">3. Redundancy and Durability</a></li></ul></li><li><a href="#system-design-best-practices" class="table-of-contents__link toc-highlight">System Design Best Practices</a><ul><li><a href="#1-hybrid-storage-pattern" class="table-of-contents__link toc-highlight">1. Hybrid Storage Pattern</a></li><li><a href="#2-common-architecture-pattern" class="table-of-contents__link toc-highlight">2. Common Architecture Pattern</a></li><li><a href="#3-metadata-vs-file-storage" class="table-of-contents__link toc-highlight">3. Metadata vs File Storage</a></li></ul></li><li><a href="#pre-signed-urls" class="table-of-contents__link toc-highlight">Pre-signed URLs</a><ul><li><a href="#the-problem" class="table-of-contents__link toc-highlight">The Problem</a></li><li><a href="#the-solution" class="table-of-contents__link toc-highlight">The Solution</a></li><li><a href="#implementation-example" class="table-of-contents__link toc-highlight">Implementation Example</a></li><li><a href="#benefits" class="table-of-contents__link toc-highlight">Benefits</a></li></ul></li><li><a href="#multi-part-upload" class="table-of-contents__link toc-highlight">Multi-part Upload</a><ul><li><a href="#the-problem-1" class="table-of-contents__link toc-highlight">The Problem</a></li><li><a href="#the-solution-1" class="table-of-contents__link toc-highlight">The Solution</a></li><li><a href="#multi-part-upload-flow" class="table-of-contents__link toc-highlight">Multi-part Upload Flow</a></li><li><a href="#implementation-benefits" class="table-of-contents__link toc-highlight">Implementation Benefits</a></li><li><a href="#example-architecture" class="table-of-contents__link toc-highlight">Example Architecture</a></li></ul></li><li><a href="#popular-object-storage-services" class="table-of-contents__link toc-highlight">Popular Object Storage Services</a><ul><li><a href="#amazon-s3-simple-storage-service" class="table-of-contents__link toc-highlight">Amazon S3 (Simple Storage Service)</a></li><li><a href="#google-cloud-storage" class="table-of-contents__link toc-highlight">Google Cloud Storage</a></li><li><a href="#azure-blob-storage" class="table-of-contents__link toc-highlight">Azure Blob Storage</a></li><li><a href="#common-features-across-all" class="table-of-contents__link toc-highlight">Common Features Across All</a></li></ul></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a><ul><li><a href="#1-social-media-and-content-platforms" class="table-of-contents__link toc-highlight">1. Social Media and Content Platforms</a></li><li><a href="#2-collaborative-tools-and-file-sharing" class="table-of-contents__link toc-highlight">2. Collaborative Tools and File Sharing</a></li><li><a href="#3-web-application-assets" class="table-of-contents__link toc-highlight">3. Web Application Assets</a></li><li><a href="#4-data-processing-and-analytics" class="table-of-contents__link toc-highlight">4. Data Processing and Analytics</a></li><li><a href="#5-media-and-entertainment" class="table-of-contents__link toc-highlight">5. Media and Entertainment</a></li></ul></li><li><a href="#interview-questions" class="table-of-contents__link toc-highlight">Interview Questions</a><ul><li><a href="#1-why-would-you-use-object-storage-instead-of-a-traditional-database-for-storing-images" class="table-of-contents__link toc-highlight">1. &quot;Why would you use object storage instead of a traditional database for storing images?&quot;</a></li><li><a href="#2-how-would-you-design-a-photo-sharing-applications-storage-architecture" class="table-of-contents__link toc-highlight">2. &quot;How would you design a photo-sharing application&#39;s storage architecture?&quot;</a></li><li><a href="#3-what-are-pre-signed-urls-and-when-would-you-use-them" class="table-of-contents__link toc-highlight">3. &quot;What are pre-signed URLs and when would you use them?&quot;</a></li><li><a href="#4-how-do-you-handle-uploading-very-large-files-1gb" class="table-of-contents__link toc-highlight">4. &quot;How do you handle uploading very large files (&gt;1GB)?&quot;</a></li><li><a href="#5-compare-object-storage-with-a-traditional-file-system" class="table-of-contents__link toc-highlight">5. &quot;Compare object storage with a traditional file system&quot;</a></li><li><a href="#6-how-would-you-implement-a-file-upload-feature-for-a-web-application" class="table-of-contents__link toc-highlight">6. &quot;How would you implement a file upload feature for a web application?&quot;</a></li><li><a href="#7-what-are-the-trade-offs-of-using-object-storage" class="table-of-contents__link toc-highlight">7. &quot;What are the trade-offs of using object storage?&quot;</a></li><li><a href="#8-design-a-system-to-handle-1-million-image-uploads-per-day" class="table-of-contents__link toc-highlight">8. &quot;Design a system to handle 1 million image uploads per day&quot;</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/js.enigma/docs/intro">Learning</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.instagram.com/carefree_ladka/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://leetcode.com/u/Asyncy99/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LeetCode<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/kumpawan/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/carefree-ladka" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 JSEnigma, Built with Kadak Chai</div></div></div></footer></div>
</body>
</html>